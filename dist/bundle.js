!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=27)}([function(e,r,n){var t,o,s={},i=(t=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=t.apply(this,arguments)),o}),a=function(e){var r={};return function(e){if("function"==typeof e)return e();if(void 0===r[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}r[e]=n}return r[e]}}(),l=null,c=0,p=[],u=n(23);function f(e,r){for(var n=0;n<e.length;n++){var t=e[n],o=s[t.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](t.parts[i]);for(;i<t.parts.length;i++)o.parts.push(y(t.parts[i],r))}else{var a=[];for(i=0;i<t.parts.length;i++)a.push(y(t.parts[i],r));s[t.id]={id:t.id,refs:1,parts:a}}}}function d(e,r){for(var n=[],t={},o=0;o<e.length;o++){var s=e[o],i=r.base?s[0]+r.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};t[i]?t[i].parts.push(a):n.push(t[i]={id:i,parts:[a]})}return n}function m(e,r){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var t=p[p.length-1];if("top"===e.insertAt)t?t.nextSibling?n.insertBefore(r,t.nextSibling):n.appendChild(r):n.insertBefore(r,n.firstChild),p.push(r);else if("bottom"===e.insertAt)n.appendChild(r);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(r,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var r=p.indexOf(e);r>=0&&p.splice(r,1)}function g(e){var r=document.createElement("style");return e.attrs.type="text/css",v(r,e.attrs),m(e,r),r}function v(e,r){Object.keys(r).forEach(function(n){e.setAttribute(n,r[n])})}function y(e,r){var n,t,o,s;if(r.transform&&e.css){if(!(s=r.transform(e.css)))return function(){};e.css=s}if(r.singleton){var i=c++;n=l||(l=g(r)),t=w.bind(null,n,i,!1),o=w.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var r=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(r,e.attrs),m(e,r),r}(r),t=function(e,r,n){var t=n.css,o=n.sourceMap,s=void 0===r.convertToAbsoluteUrls&&o;(r.convertToAbsoluteUrls||s)&&(t=u(t));o&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([t],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}.bind(null,n,r),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(r),t=function(e,r){var n=r.css,t=r.media;t&&e.setAttribute("media",t);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else o()}}e.exports=function(e,r){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(r=r||{}).attrs="object"==typeof r.attrs?r.attrs:{},r.singleton||"boolean"==typeof r.singleton||(r.singleton=i()),r.insertInto||(r.insertInto="head"),r.insertAt||(r.insertAt="bottom");var n=d(e,r);return f(n,r),function(e){for(var t=[],o=0;o<n.length;o++){var i=n[o];(a=s[i.id]).refs--,t.push(a)}e&&f(d(e,r),r);for(o=0;o<t.length;o++){var a;if(0===(a=t[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete s[a.id]}}}};var b,x=(b=[],function(e,r){return b[e]=r,b.filter(Boolean).join("\n")});function w(e,r,n,t){var o=n?"":t.css;if(e.styleSheet)e.styleSheet.cssText=x(r,o);else{var s=document.createTextNode(o),i=e.childNodes;i[r]&&e.removeChild(i[r]),i.length?e.insertBefore(s,i[r]):e.appendChild(s)}}},function(e,r){e.exports=function(e){var r=[];return r.toString=function(){return this.map(function(r){var n=function(e,r){var n=e[1]||"",t=e[3];if(!t)return n;if(r&&"function"==typeof btoa){var o=(i=t,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),s=t.sources.map(function(e){return"/*# sourceURL="+t.sourceRoot+e+" */"});return[n].concat(s).concat([o]).join("\n")}var i;return[n].join("\n")}(r,e);return r[2]?"@media "+r[2]+"{"+n+"}":n}).join("")},r.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var t={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(t[s]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&t[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),r.push(i))}},r}},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,"*, *::before, *::after, body {\r\n    margin: 0;\r\n    padding:0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nhtml {\r\n    font-size: 62.5%;\r\n}\r\n\r\n\r\n.container {\r\n    height: inherit;\r\n    width: 80%;\r\n    margin: auto;\r\n}",""])},function(e,r,n){var t=n(2);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){angular.module("app").service("PreviewedImagesService",["$q",function(e){let r=this;r.database={nature:["https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],people:["https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],women:["https://images.pexels.com/photos/324658/pexels-photo-324658.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/324658/pexels-photo-324658.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/324658/pexels-photo-324658.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],rain:["https://images.pexels.com/photos/39811/pexels-photo-39811.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/39811/pexels-photo-39811.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/39811/pexels-photo-39811.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],forest:["https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"]},this.getImagesBySection=function(n){return console.log(n),e((e,t)=>{e(r.database[n])})}}])},function(e,r){angular.module("app").service("SectionsService",["$q",function(e){this.getSections=function(){return e((e,r)=>{e(["nature","people","women","rain","forest"])})}}])},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".gallery-previewer {\r\n    background-color: white;\r\n}\r\n\r\n\r\n\r\n.gallery-previewer-composition {\r\n    display: block;\r\n    position: relative;\r\n    width:50%;\r\n    margin: auto;\r\n    margin-top: 13rem;\r\n}\r\n\r\n.gallery-previewer-example {\r\n    width: 35rem;\r\n    height: 20rem;\r\n    position: absolute;\r\n    z-index: 1;\r\n    background-size: cover;\r\n    box-shadow: 0 1.5rem 4rem rgba(0, 0, 0, 0.4);\r\n    border-radius: 3px;\r\n    transition: all .2s;\r\n    outline-offset: 2rem;\r\n}\r\n\r\n.gallery-previewer-example:hover {\r\n    z-index: 100;\r\n    outline: 1.5rem solid darkslategrey;\r\n    box-shadow: 0 2.5rem 4rem rgba(0, 0, 0, 0.5);\r\n    transform: scale(1.05) translateY(-0.5rem);\r\n}\r\n\r\n.gallery-previewer-example:nth-child(1){\r\n    top:0;\r\n    left:0;\r\n\r\n}\r\n\r\n.gallery-previewer-example:nth-child(2){\r\n    \r\n    top: 13rem;\r\n    left: 11rem;\r\n}\r\n\r\n.gallery-previewer-example:nth-child(3){\r\n    \r\n    top: 4rem;\r\n    left: 24rem;\r\n}",""])},function(e,r,n){var t=n(6);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="gallery-previewer">\r\n    <div class="gallery-previewer-container">\r\n        <div class="gallery-previewer-composition">\r\n            <img ng-repeat="image in $ctrl.images track by $index" style=\'background-image:url({{image}})\'  alt="" class="gallery-previewer-example">\r\n            \x3c!-- <img ng-repeat="image in $ctrl.images" ng-src="../../../assets/img/4k-nature-wallpaper-0049.jpg" alt="" class="gallery-previewer-example"> --\x3e\r\n            \x3c!-- <img src="./assets/img/4k-nature-wallpaper-0049.jpg" alt="" class="gallery-previewer-example">\r\n            <img src="../assets/img/4k-nature-wallpaper-0049.jpg" alt="" class="gallery-previewer-example"> --\x3e\r\n        </div>\r\n    </div>\r\n</section>'},function(e,r,n){angular.module("app").component("appGalleryPreviewer",{template:n(8),bindings:{images:"<"},controller:function(){}}),n(7)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".gallery-sidemenu {\r\n    flex-basis: 30%;\r\n    background-color: inherit;\r\n    \r\n}\r\n\r\n.gallery-sidemenu-link-container{\r\n    margin-top: 13rem;\r\n}\r\n\r\n.gallery-sidemenu-link-list{\r\n    list-style: none;\r\n}\r\n\r\n.gallery-sidemenu-link-item {\r\n    position: relative;\r\n    padding: .5rem 0 .5rem 1.5rem;\r\n    font-size: 2rem;\r\n    color: #333333;\r\n    cursor: pointer;\r\n    /* border: 1px solid lightgrey; */\r\n}\r\n\r\n.gallery-sidemenu-link-item:before {\r\n    /* content: '';\r\n    border-bottom: 1px solid green;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    height:100%;\r\n    width:3px;\r\n    transform: scaleX(0);\r\n    transform-origin: left;\r\n    transition: transform 0.2s, width 0.4s cubic-bezier(1, 0, 0, 1) 0.2s, border-bottom .3s; */\r\n    \r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 3px;\r\n    /* clip-path: polygon(0 0, 1 0, 50% 50%, 100% 100%); */\r\n    background-color: #1E90FF;\r\n\r\n    transform: scaleY(0);\r\n    transform-origin: center;\r\n    transition: transform 0.2s, width 0.4s cubic-bezier(1, 0, 0, 1) 0.2s, background-color 0.1s;\r\n    \r\n}\r\n.gallery-sidemenu-link-item:hover:before{\r\n    /* transform: scaleX(1);\r\n    width: 100%; */\r\n    transform: scaleY(1);\r\n    width: 100%;\r\n}\r\n/* .gallery-sidemenu-link-item:hover {\r\n    border-bottom: 1px solid #1E90FF;\r\n} */\r\n\r\n/* transition: transform 0.2s, width 0.4s cubic-bezier(1, 0, 0, 1) 0.2s,  */\r\n.gallery-sidemenu-link-a {\r\n    position: relative;\r\n    color:#333333;\r\n    text-decoration: none;\r\n}\r\n.gallery-sidemenu-link-list:nth-child(1){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(2){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(3){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(4){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(5){\r\n\r\n}",""])},function(e,r,n){var t=n(10);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="gallery-sidemenu">\r\n    <div class="gallery-sidemenu-link-container">\r\n        <ul class="gallery-sidemenu-link-list">\r\n            <li class="gallery-sidemenu-link-item" ng-repeat="section in $ctrl.sections" ng-mouseover="$ctrl.getImages({section:section})" >\r\n                <a href="" class="gallery-sidemenu-link-a">{{section}}</a>\r\n            </li>\r\n          \r\n        </ul>\r\n    </div>\r\n</section>'},function(e,r,n){angular.module("app").component("appGallerySidemenu",{template:n(12),bindings:{sections:"<",getImages:"&"},controller:function(){}}),n(11)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".gallery-section {\r\n    background-color: white;\r\n    height: 100vh;\r\n}\r\n.gallery-heading {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 13rem;\r\n}\r\n.gallery-heading h2{\r\n    color: #1E90FF;\r\n    font-weight: 400;\r\n    font-size: 6rem;\r\n    padding: 2rem;\r\n}\r\n\r\n.gallery-folder {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    \r\n}\r\n",""])},function(e,r,n){var t=n(14);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="gallery-section">\r\n    <div class="container">\r\n        <div class="gallery-heading">\r\n            <h2>Gallery with different images</h2>\r\n        </div>\r\n        <div class="gallery-folder">\r\n            <app-gallery-sidemenu sections="$ctrl.sections" get-images="$ctrl.onSectionChange(section)" style="flex-basis:30%;"></app-gallery-sidemenu>\r\n            <app-gallery-previewer images="$ctrl.images"  style="flex-basis:70%;"></app-gallery-previewer>\r\n        </div>\r\n        \r\n    </div>\r\n</section>'},function(e,r,n){angular.module("app").component("appGallery",{template:n(16),controller:["SectionsService","PreviewedImagesService",function(e,r){let n=this;this.$onInit=function(){e.getSections().then(e=>{console.log(e),n.sections=e}),n.images=""},this.onSectionChange=function(e){console.log(e),r.getImagesBySection(e).then(e=>{n.images=e})}}]}),n(15)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".showcase {\r\n    height: 80vh;\r\n    background: url(/assets/img/street.jpg) no-repeat 0 -20vh;\r\n    background-attachment: fixed;\r\n    \r\n}\r\n\r\n.showcase-outer {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: inherit;\r\n}\r\n.showcase-info-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n}\r\n.showcase-welcome {\r\n    color: #fafafa;\r\n    font-size: 7rem;\r\n    letter-spacing: .3rem;\r\n    text-shadow: 2px 2px 4px #000000;\r\n}\r\n\r\n.showcase-creator {\r\n    color: #fafafa;\r\n    font-size: 4rem;\r\n    text-shadow: 2px 2px 4px #000000;\r\n}",""])},function(e,r,n){var t=n(18);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="showcase">\r\n    <div class="container">\r\n        <div class="showcase-outer">\r\n            <div class="showcase-info-container">\r\n                <h1 class="showcase-welcome">Welcome to the Gallery</h1>\r\n                <p class="showcase-creator">made by Anatolii Yatsenko</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>'},function(e,r,n){angular.module("app").component("appShowcase",{template:n(20),controller:function(){}}),n(19)},function(e,r){e.exports='<header class="nav_bav">\r\n  <div class="container">\r\n    <div class="nav_container">\r\n      <div class="responsive_text">\r\n        <h3><span style="color:#1E90FF;">Responsive</span> gallery</h3>\r\n      </div>\r\n      <nav class="navigation_container">\r\n        <ul class="list">\r\n          <li>HOME</li>\r\n          <li>ABOUT US</li>\r\n          <li>SIGN IN</li>\r\n          <li>SIGN UP</li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n</header>'},function(e,r){e.exports=function(e){var r="undefined"!=typeof window&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=r.protocol+"//"+r.host,t=n+r.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,r){var o,s=r.trim().replace(/^"(.*)"$/,function(e,r){return r}).replace(/^'(.*)'$/,function(e,r){return r});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:t+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".nav_bav {\r\n    background-color: #35424a;\r\n    border-bottom: #1E90FF 3px solid;\r\n    height: 8rem;\r\n}\r\n\r\n\r\n.nav_container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: inherit;\r\n}\r\n\r\n.responsive_text {\r\n\r\n}\r\n\r\n.responsive_text h3 {\r\n    font-size: 3.2rem;\r\n    color: white;\r\n}\r\n\r\n.list {\r\n    display: flex;\r\n    list-style: none;\r\n}\r\n\r\n.list li {\r\n    color: white;\r\n    font-size: 2rem;\r\n    padding: 1rem 2rem;\r\n} ",""])},function(e,r,n){var t=n(24);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r,n){n(25),angular.module("app").component("appNavBar",{template:n(22),controller:function(){}})},function(e,r,n){angular.module("app",["ui.router"]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(e,r){r.otherwise("/"),e.state({name:"home",url:"/",template:"<app-showcase></app-showcase>"})}]),n(26),n(21),n(17),n(13),n(9),n(5),n(4),n(3)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcz9mYmE0Iiwid2VicGFjazovLy8uL3NlcnZpY2VzL3ByZXZpZXdlZC1pbWFnZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9zZWN0aW9ucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXByZXZpZXdlci9nYWxsZXJ5LXByZXZpZXdlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktcHJldmlld2VyL2dhbGxlcnktcHJldmlld2VyLmNzcz9lNTNlIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXByZXZpZXdlci9nYWxsZXJ5LXByZXZpZXdlci5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXByZXZpZXdlci9nYWxsZXJ5LXByZXZpZXdlci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktc2lkZW1lbnUvZ2FsbGVyeS1zaWRlbWVudS5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktc2lkZW1lbnUvZ2FsbGVyeS1zaWRlbWVudS5jc3M/MjYzOSIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2dhbGxlcnkvZ2FsbGVyeS1zaWRlbWVudS9nYWxsZXJ5LXNpZGVtZW51Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktc2lkZW1lbnUvZ2FsbGVyeS1zaWRlbWVudS5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnkuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LmNzcz80ZGRmIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnkuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hvd2Nhc2Uvc2hvd2Nhc2UuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hvd2Nhc2Uvc2hvd2Nhc2UuY3NzPzg5NzUiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9zaG93Y2FzZS9zaG93Y2FzZS5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hvd2Nhc2Uvc2hvd2Nhc2UuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvYXBwLW5hdi1iYXIvYXBwTmF2QmFyLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2FwcC1uYXYtYmFyL2FwcE5hdkJhci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9hcHAtbmF2LWJhci9hcHBOYXZCYXIuY3NzPzIwOWMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9hcHAtbmF2LWJhci9hcHBOYXZCYXIuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2FwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJsZW5ndGgiLCJpdGVtIiwiZG9tU3R5bGUiLCJpZCIsInJlZnMiLCJqIiwicGFydHMiLCJwdXNoIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsIkVycm9yIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwidW5kZWZpbmVkIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwiYW5ndWxhciIsInNlcnZpY2UiLCIkcSIsImN0cmwiLCJkYXRhYmFzZSIsIm5hdHVyZSIsInBlb3BsZSIsIndvbWVuIiwicmFpbiIsImZvcmVzdCIsImdldEltYWdlc0J5U2VjdGlvbiIsInNlY3Rpb24iLCJjb25zb2xlIiwibG9nIiwicmVzb2x2ZSIsInJlamVjdCIsImdldFNlY3Rpb25zIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJiaW5kaW5ncyIsImltYWdlcyIsImNvbnRyb2xsZXIiLCJzZWN0aW9ucyIsImdldEltYWdlcyIsIlNlY3Rpb25zU2VydmljZSIsIlByZXZpZXdlZEltYWdlc1NlcnZpY2UiLCIkb25Jbml0IiwidGhlbiIsIm9uU2VjdGlvbkNoYW5nZSIsImRhdGEiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFB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LEVBQUEsR0FFQUEsRUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI3KTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqLCAqOjpiZWZvcmUsICo6OmFmdGVyLCBib2R5IHtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOjA7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcblxcclxcbmh0bWwge1xcclxcbiAgICBmb250LXNpemU6IDYyLjUlO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4uY29udGFpbmVyIHtcXHJcXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xcclxcbiAgICB3aWR0aDogODAlO1xcclxcbiAgICBtYXJnaW46IGF1dG87XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuc2VydmljZSgnUHJldmlld2VkSW1hZ2VzU2VydmljZScsWyckcScsIGZ1bmN0aW9uKCRxKXtcclxuICAgICAgICBsZXQgY3RybCA9IHRoaXM7XHJcbiAgICAgICAgY3RybC5kYXRhYmFzZSA9IHtcclxuICAgICAgICAgICAgJ25hdHVyZSc6IFtcclxuICAgICAgICAgICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzE4ODAyOS9wZXhlbHMtcGhvdG8tMTg4MDI5LmpwZWc/YXV0bz1jb21wcmVzcyZjcz10aW55c3JnYiZkcHI9MiZoPTc1MCZ3PTEyNjAnLFxyXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzE4ODAyOS9wZXhlbHMtcGhvdG8tMTg4MDI5LmpwZWc/YXV0bz1jb21wcmVzcyZjcz10aW55c3JnYiZkcHI9MiZoPTc1MCZ3PTEyNjAnLFxyXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzE4ODAyOS9wZXhlbHMtcGhvdG8tMTg4MDI5LmpwZWc/YXV0bz1jb21wcmVzcyZjcz10aW55c3JnYiZkcHI9MiZoPTc1MCZ3PTEyNjAnXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICdwZW9wbGUnOltcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy81NzQxNzcvcGV4ZWxzLXBob3RvLTU3NDE3Ny5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJyxcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy81NzQxNzcvcGV4ZWxzLXBob3RvLTU3NDE3Ny5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJyxcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy81NzQxNzcvcGV4ZWxzLXBob3RvLTU3NDE3Ny5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJ1xyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAnd29tZW4nOltcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy8zMjQ2NTgvcGV4ZWxzLXBob3RvLTMyNDY1OC5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJyxcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy8zMjQ2NTgvcGV4ZWxzLXBob3RvLTMyNDY1OC5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJyxcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy8zMjQ2NTgvcGV4ZWxzLXBob3RvLTMyNDY1OC5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJ1xyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAncmFpbic6W1xyXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzM5ODExL3BleGVscy1waG90by0zOTgxMS5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJyxcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy8zOTgxMS9wZXhlbHMtcGhvdG8tMzk4MTEuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMzk4MTEvcGV4ZWxzLXBob3RvLTM5ODExLmpwZWc/YXV0bz1jb21wcmVzcyZjcz10aW55c3JnYiZkcHI9MiZoPTc1MCZ3PTEyNjAnXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICdmb3Jlc3QnOltcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy84MTQ0OTkvcGV4ZWxzLXBob3RvLTgxNDQ5OS5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJyxcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy84MTQ0OTkvcGV4ZWxzLXBob3RvLTgxNDQ5OS5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJyxcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy84MTQ0OTkvcGV4ZWxzLXBob3RvLTgxNDQ5OS5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJ1xyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldEltYWdlc0J5U2VjdGlvbiA9IGZ1bmN0aW9uKHNlY3Rpb24pe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzZWN0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuICRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoY3RybC5kYXRhYmFzZVtzZWN0aW9uXSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfV0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuc2VydmljZSgnU2VjdGlvbnNTZXJ2aWNlJyxbJyRxJywgZnVuY3Rpb24oJHEpe1xyXG4gICAgICAgIHRoaXMuZ2V0U2VjdGlvbnMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gJHEoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShbXHJcbiAgICAgICAgICAgICAgICAgICAgJ25hdHVyZScsIFxyXG4gICAgICAgICAgICAgICAgICAgICdwZW9wbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICd3b21lbicsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3JhaW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICdmb3Jlc3QnXHJcbiAgICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1dKTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5nYWxsZXJ5LXByZXZpZXdlciB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG4uZ2FsbGVyeS1wcmV2aWV3ZXItY29tcG9zaXRpb24ge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB3aWR0aDo1MCU7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG4gICAgbWFyZ2luLXRvcDogMTNyZW07XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlIHtcXHJcXG4gICAgd2lkdGg6IDM1cmVtO1xcclxcbiAgICBoZWlnaHQ6IDIwcmVtO1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHotaW5kZXg6IDE7XFxyXFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxyXFxuICAgIGJveC1zaGFkb3c6IDAgMS41cmVtIDRyZW0gcmdiYSgwLCAwLCAwLCAwLjQpO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XFxyXFxuICAgIHRyYW5zaXRpb246IGFsbCAuMnM7XFxyXFxuICAgIG91dGxpbmUtb2Zmc2V0OiAycmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1wcmV2aWV3ZXItZXhhbXBsZTpob3ZlciB7XFxyXFxuICAgIHotaW5kZXg6IDEwMDtcXHJcXG4gICAgb3V0bGluZTogMS41cmVtIHNvbGlkIGRhcmtzbGF0ZWdyZXk7XFxyXFxuICAgIGJveC1zaGFkb3c6IDAgMi41cmVtIDRyZW0gcmdiYSgwLCAwLCAwLCAwLjUpO1xcclxcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpIHRyYW5zbGF0ZVkoLTAuNXJlbSk7XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlOm50aC1jaGlsZCgxKXtcXHJcXG4gICAgdG9wOjA7XFxyXFxuICAgIGxlZnQ6MDtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktcHJldmlld2VyLWV4YW1wbGU6bnRoLWNoaWxkKDIpe1xcclxcbiAgICBcXHJcXG4gICAgdG9wOiAxM3JlbTtcXHJcXG4gICAgbGVmdDogMTFyZW07XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlOm50aC1jaGlsZCgzKXtcXHJcXG4gICAgXFxyXFxuICAgIHRvcDogNHJlbTtcXHJcXG4gICAgbGVmdDogMjRyZW07XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2dhbGxlcnktcHJldmlld2VyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9nYWxsZXJ5LXByZXZpZXdlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2dhbGxlcnktcHJldmlld2VyLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbiBjbGFzcz1cXFwiZ2FsbGVyeS1wcmV2aWV3ZXJcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJnYWxsZXJ5LXByZXZpZXdlci1jb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ2FsbGVyeS1wcmV2aWV3ZXItY29tcG9zaXRpb25cXFwiPlxcclxcbiAgICAgICAgICAgIDxpbWcgbmctcmVwZWF0PVxcXCJpbWFnZSBpbiAkY3RybC5pbWFnZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBzdHlsZT0nYmFja2dyb3VuZC1pbWFnZTp1cmwoe3tpbWFnZX19KScgIGFsdD1cXFwiXFxcIiBjbGFzcz1cXFwiZ2FsbGVyeS1wcmV2aWV3ZXItZXhhbXBsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPCEtLSA8aW1nIG5nLXJlcGVhdD1cXFwiaW1hZ2UgaW4gJGN0cmwuaW1hZ2VzXFxcIiBuZy1zcmM9XFxcIi4uLy4uLy4uL2Fzc2V0cy9pbWcvNGstbmF0dXJlLXdhbGxwYXBlci0wMDQ5LmpwZ1xcXCIgYWx0PVxcXCJcXFwiIGNsYXNzPVxcXCJnYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlXFxcIj4gLS0+XFxyXFxuICAgICAgICAgICAgPCEtLSA8aW1nIHNyYz1cXFwiLi9hc3NldHMvaW1nLzRrLW5hdHVyZS13YWxscGFwZXItMDA0OS5qcGdcXFwiIGFsdD1cXFwiXFxcIiBjbGFzcz1cXFwiZ2FsbGVyeS1wcmV2aWV3ZXItZXhhbXBsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcIi4uL2Fzc2V0cy9pbWcvNGstbmF0dXJlLXdhbGxwYXBlci0wMDQ5LmpwZ1xcXCIgYWx0PVxcXCJcXFwiIGNsYXNzPVxcXCJnYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlXFxcIj4gLS0+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9zZWN0aW9uPlwiOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwR2FsbGVyeVByZXZpZXdlcicsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9nYWxsZXJ5LXByZXZpZXdlci5odG1sJyksXHJcbiAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICBpbWFnZXM6JzwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxucmVxdWlyZSgnLi9nYWxsZXJ5LXByZXZpZXdlci5jc3MnKTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5nYWxsZXJ5LXNpZGVtZW51IHtcXHJcXG4gICAgZmxleC1iYXNpczogMzAlO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcclxcbiAgICBcXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1jb250YWluZXJ7XFxyXFxuICAgIG1hcmdpbi10b3A6IDEzcmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWxpc3R7XFxyXFxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LXNpZGVtZW51LWxpbmstaXRlbSB7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgcGFkZGluZzogLjVyZW0gMCAuNXJlbSAxLjVyZW07XFxyXFxuICAgIGZvbnQtc2l6ZTogMnJlbTtcXHJcXG4gICAgY29sb3I6ICMzMzMzMzM7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gICAgLyogYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmV5OyAqL1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWl0ZW06YmVmb3JlIHtcXHJcXG4gICAgLyogY29udGVudDogJyc7XFxyXFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBncmVlbjtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6MDtcXHJcXG4gICAgbGVmdDowO1xcclxcbiAgICBoZWlnaHQ6MTAwJTtcXHJcXG4gICAgd2lkdGg6M3B4O1xcclxcbiAgICB0cmFuc2Zvcm06IHNjYWxlWCgwKTtcXHJcXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdDtcXHJcXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIHdpZHRoIDAuNHMgY3ViaWMtYmV6aWVyKDEsIDAsIDAsIDEpIDAuMnMsIGJvcmRlci1ib3R0b20gLjNzOyAqL1xcclxcbiAgICBcXHJcXG4gICAgY29udGVudDogXFxcIlxcXCI7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICAgIHdpZHRoOiAzcHg7XFxyXFxuICAgIC8qIGNsaXAtcGF0aDogcG9seWdvbigwIDAsIDEgMCwgNTAlIDUwJSwgMTAwJSAxMDAlKTsgKi9cXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFFOTBGRjtcXHJcXG5cXHJcXG4gICAgdHJhbnNmb3JtOiBzY2FsZVkoMCk7XFxyXFxuICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjtcXHJcXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIHdpZHRoIDAuNHMgY3ViaWMtYmV6aWVyKDEsIDAsIDAsIDEpIDAuMnMsIGJhY2tncm91bmQtY29sb3IgMC4xcztcXHJcXG4gICAgXFxyXFxufVxcclxcbi5nYWxsZXJ5LXNpZGVtZW51LWxpbmstaXRlbTpob3ZlcjpiZWZvcmV7XFxyXFxuICAgIC8qIHRyYW5zZm9ybTogc2NhbGVYKDEpO1xcclxcbiAgICB3aWR0aDogMTAwJTsgKi9cXHJcXG4gICAgdHJhbnNmb3JtOiBzY2FsZVkoMSk7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG4vKiAuZ2FsbGVyeS1zaWRlbWVudS1saW5rLWl0ZW06aG92ZXIge1xcclxcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzFFOTBGRjtcXHJcXG59ICovXFxyXFxuXFxyXFxuLyogdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMsIHdpZHRoIDAuNHMgY3ViaWMtYmV6aWVyKDEsIDAsIDAsIDEpIDAuMnMsICAqL1xcclxcbi5nYWxsZXJ5LXNpZGVtZW51LWxpbmstYSB7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgY29sb3I6IzMzMzMzMztcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbn1cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWxpc3Q6bnRoLWNoaWxkKDEpe1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWxpc3Q6bnRoLWNoaWxkKDIpe1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWxpc3Q6bnRoLWNoaWxkKDMpe1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWxpc3Q6bnRoLWNoaWxkKDQpe1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWxpc3Q6bnRoLWNoaWxkKDUpe1xcclxcblxcclxcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9nYWxsZXJ5LXNpZGVtZW51LmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9nYWxsZXJ5LXNpZGVtZW51LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZ2FsbGVyeS1zaWRlbWVudS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHNlY3Rpb24gY2xhc3M9XFxcImdhbGxlcnktc2lkZW1lbnVcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJnYWxsZXJ5LXNpZGVtZW51LWxpbmstY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiZ2FsbGVyeS1zaWRlbWVudS1saW5rLWxpc3RcXFwiPlxcclxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiZ2FsbGVyeS1zaWRlbWVudS1saW5rLWl0ZW1cXFwiIG5nLXJlcGVhdD1cXFwic2VjdGlvbiBpbiAkY3RybC5zZWN0aW9uc1xcXCIgbmctbW91c2VvdmVyPVxcXCIkY3RybC5nZXRJbWFnZXMoe3NlY3Rpb246c2VjdGlvbn0pXFxcIiA+XFxyXFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImdhbGxlcnktc2lkZW1lbnUtbGluay1hXFxcIj57e3NlY3Rpb259fTwvYT5cXHJcXG4gICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICBcXHJcXG4gICAgICAgIDwvdWw+XFxyXFxuICAgIDwvZGl2Plxcclxcbjwvc2VjdGlvbj5cIjsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb21wb25lbnQoJ2FwcEdhbGxlcnlTaWRlbWVudScsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9nYWxsZXJ5LXNpZGVtZW51Lmh0bWwnKSxcclxuICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICBzZWN0aW9uczogJzwnLFxyXG4gICAgICAgICAgICBnZXRJbWFnZXM6ICcmJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxucmVxdWlyZSgnLi9nYWxsZXJ5LXNpZGVtZW51LmNzcycpOyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmdhbGxlcnktc2VjdGlvbiB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcclxcbiAgICBoZWlnaHQ6IDEwMHZoO1xcclxcbn1cXHJcXG4uZ2FsbGVyeS1oZWFkaW5nIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGhlaWdodDogMTNyZW07XFxyXFxufVxcclxcbi5nYWxsZXJ5LWhlYWRpbmcgaDJ7XFxyXFxuICAgIGNvbG9yOiAjMUU5MEZGO1xcclxcbiAgICBmb250LXdlaWdodDogNDAwO1xcclxcbiAgICBmb250LXNpemU6IDZyZW07XFxyXFxuICAgIHBhZGRpbmc6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LWZvbGRlciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gICAgXFxyXFxufVxcclxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2dhbGxlcnkuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2dhbGxlcnkuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9nYWxsZXJ5LmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbiBjbGFzcz1cXFwiZ2FsbGVyeS1zZWN0aW9uXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdhbGxlcnktaGVhZGluZ1xcXCI+XFxyXFxuICAgICAgICAgICAgPGgyPkdhbGxlcnkgd2l0aCBkaWZmZXJlbnQgaW1hZ2VzPC9oMj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZ2FsbGVyeS1mb2xkZXJcXFwiPlxcclxcbiAgICAgICAgICAgIDxhcHAtZ2FsbGVyeS1zaWRlbWVudSBzZWN0aW9ucz1cXFwiJGN0cmwuc2VjdGlvbnNcXFwiIGdldC1pbWFnZXM9XFxcIiRjdHJsLm9uU2VjdGlvbkNoYW5nZShzZWN0aW9uKVxcXCIgc3R5bGU9XFxcImZsZXgtYmFzaXM6MzAlO1xcXCI+PC9hcHAtZ2FsbGVyeS1zaWRlbWVudT5cXHJcXG4gICAgICAgICAgICA8YXBwLWdhbGxlcnktcHJldmlld2VyIGltYWdlcz1cXFwiJGN0cmwuaW1hZ2VzXFxcIiAgc3R5bGU9XFxcImZsZXgtYmFzaXM6NzAlO1xcXCI+PC9hcHAtZ2FsbGVyeS1wcmV2aWV3ZXI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIFxcclxcbiAgICA8L2Rpdj5cXHJcXG48L3NlY3Rpb24+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29tcG9uZW50KCdhcHBHYWxsZXJ5Jywge1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2dhbGxlcnkuaHRtbCcpLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnU2VjdGlvbnNTZXJ2aWNlJywgJ1ByZXZpZXdlZEltYWdlc1NlcnZpY2UnLCBmdW5jdGlvbihTZWN0aW9uc1NlcnZpY2UsIFByZXZpZXdlZEltYWdlc1NlcnZpY2Upe1xyXG4gICAgICAgICAgICBsZXQgY3RybCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBTZWN0aW9uc1NlcnZpY2UuZ2V0U2VjdGlvbnMoKS50aGVuKHNlY3Rpb25zID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWN0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5zZWN0aW9ucyA9IHNlY3Rpb25zO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY3RybC5pbWFnZXMgPSAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vblNlY3Rpb25DaGFuZ2UgPSBmdW5jdGlvbihzZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgUHJldmlld2VkSW1hZ2VzU2VydmljZS5nZXRJbWFnZXNCeVNlY3Rpb24oc2VjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaW1hZ2VzID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL2dhbGxlcnkuY3NzJyk7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2hvd2Nhc2Uge1xcclxcbiAgICBoZWlnaHQ6IDgwdmg7XFxyXFxuICAgIGJhY2tncm91bmQ6IHVybCgvYXNzZXRzL2ltZy9zdHJlZXQuanBnKSBuby1yZXBlYXQgMCAtMjB2aDtcXHJcXG4gICAgYmFja2dyb3VuZC1hdHRhY2htZW50OiBmaXhlZDtcXHJcXG4gICAgXFxyXFxufVxcclxcblxcclxcbi5zaG93Y2FzZS1vdXRlciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XFxyXFxufVxcclxcbi5zaG93Y2FzZS1pbmZvLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbn1cXHJcXG4uc2hvd2Nhc2Utd2VsY29tZSB7XFxyXFxuICAgIGNvbG9yOiAjZmFmYWZhO1xcclxcbiAgICBmb250LXNpemU6IDdyZW07XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAuM3JlbTtcXHJcXG4gICAgdGV4dC1zaGFkb3c6IDJweCAycHggNHB4ICMwMDAwMDA7XFxyXFxufVxcclxcblxcclxcbi5zaG93Y2FzZS1jcmVhdG9yIHtcXHJcXG4gICAgY29sb3I6ICNmYWZhZmE7XFxyXFxuICAgIGZvbnQtc2l6ZTogNHJlbTtcXHJcXG4gICAgdGV4dC1zaGFkb3c6IDJweCAycHggNHB4ICMwMDAwMDA7XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3Nob3djYXNlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zaG93Y2FzZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3Nob3djYXNlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbiBjbGFzcz1cXFwic2hvd2Nhc2VcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2hvd2Nhc2Utb3V0ZXJcXFwiPlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNob3djYXNlLWluZm8tY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzPVxcXCJzaG93Y2FzZS13ZWxjb21lXFxcIj5XZWxjb21lIHRvIHRoZSBHYWxsZXJ5PC9oMT5cXHJcXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInNob3djYXNlLWNyZWF0b3JcXFwiPm1hZGUgYnkgQW5hdG9saWkgWWF0c2Vua288L3A+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9zZWN0aW9uPlwiOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwU2hvd2Nhc2UnLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vc2hvd2Nhc2UuaHRtbCcpLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL3Nob3djYXNlLmNzcycpOyIsIm1vZHVsZS5leHBvcnRzID0gXCI8aGVhZGVyIGNsYXNzPVxcXCJuYXZfYmF2XFxcIj5cXHJcXG4gIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcIm5hdl9jb250YWluZXJcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInJlc3BvbnNpdmVfdGV4dFxcXCI+XFxyXFxuICAgICAgICA8aDM+PHNwYW4gc3R5bGU9XFxcImNvbG9yOiMxRTkwRkY7XFxcIj5SZXNwb25zaXZlPC9zcGFuPiBnYWxsZXJ5PC9oMz5cXHJcXG4gICAgICA8L2Rpdj5cXHJcXG4gICAgICA8bmF2IGNsYXNzPVxcXCJuYXZpZ2F0aW9uX2NvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICA8dWwgY2xhc3M9XFxcImxpc3RcXFwiPlxcclxcbiAgICAgICAgICA8bGk+SE9NRTwvbGk+XFxyXFxuICAgICAgICAgIDxsaT5BQk9VVCBVUzwvbGk+XFxyXFxuICAgICAgICAgIDxsaT5TSUdOIElOPC9saT5cXHJcXG4gICAgICAgICAgPGxpPlNJR04gVVA8L2xpPlxcclxcbiAgICAgICAgPC91bD5cXHJcXG4gICAgICA8L25hdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICA8L2Rpdj5cXHJcXG48L2hlYWRlcj5cIjsiLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm5hdl9iYXYge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzU0MjRhO1xcclxcbiAgICBib3JkZXItYm90dG9tOiAjMUU5MEZGIDNweCBzb2xpZDtcXHJcXG4gICAgaGVpZ2h0OiA4cmVtO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4ubmF2X2NvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xcclxcbn1cXHJcXG5cXHJcXG4ucmVzcG9uc2l2ZV90ZXh0IHtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLnJlc3BvbnNpdmVfdGV4dCBoMyB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMy4ycmVtO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxufVxcclxcblxcclxcbi5saXN0IHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLmxpc3QgbGkge1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxuICAgIGZvbnQtc2l6ZTogMnJlbTtcXHJcXG4gICAgcGFkZGluZzogMXJlbSAycmVtO1xcclxcbn0gXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vYXBwTmF2QmFyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9hcHBOYXZCYXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9hcHBOYXZCYXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwicmVxdWlyZSgnLi9hcHBOYXZCYXIuY3NzJyk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuY29tcG9uZW50KCdhcHBOYXZCYXInLCB7XHJcbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9hcHBOYXZCYXIuaHRtbCcpLFxyXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICBcclxuICAgIH1cclxufSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XHJcblxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpe1xyXG5cclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgIC5zdGF0ZSh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdob21lJyxcclxuICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPGFwcC1zaG93Y2FzZT48L2FwcC1zaG93Y2FzZT4nXHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxufV0pXHJcblxyXG5cclxuLy8gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL2NsaXBib2FyZC5kaXJlY3RpdmUnKTtcclxucmVxdWlyZSgnLi9jb21wb25lbnRzL2FwcC1uYXYtYmFyL2FwcE5hdkJhci5jb21wb25lbnQnKTtcclxucmVxdWlyZSgnLi9jb21wb25lbnRzL3Nob3djYXNlL3Nob3djYXNlLmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXNpZGVtZW51L2dhbGxlcnktc2lkZW1lbnUuY29tcG9uZW50Jyk7XHJcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktcHJldmlld2VyL2dhbGxlcnktcHJldmlld2VyLmNvbXBvbmVudCcpO1xyXG5cclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9zZWN0aW9ucy5zZXJ2aWNlJyk7XHJcbnJlcXVpcmUoJy4vc2VydmljZXMvcHJldmlld2VkLWltYWdlcy5zZXJ2aWNlJyk7XHJcblxyXG5yZXF1aXJlKCcuL21haW4uY3NzJyk7XHJcbi8vIHJlcXVpcmUoJy4vY29tcG9uZW50cy9za2lsbHNQYWdlL3NraWxscy5jb21wb25lbnQnKTtcclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=