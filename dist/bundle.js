!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=35)}([function(e,r,n){var t,o,i={},s=(t=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=t.apply(this,arguments)),o}),a=function(e){var r={};return function(e){if("function"==typeof e)return e();if(void 0===r[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}r[e]=n}return r[e]}}(),l=null,c=0,p=[],u=n(31);function m(e,r){for(var n=0;n<e.length;n++){var t=e[n],o=i[t.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](t.parts[s]);for(;s<t.parts.length;s++)o.parts.push(b(t.parts[s],r))}else{var a=[];for(s=0;s<t.parts.length;s++)a.push(b(t.parts[s],r));i[t.id]={id:t.id,refs:1,parts:a}}}}function d(e,r){for(var n=[],t={},o=0;o<e.length;o++){var i=e[o],s=r.base?i[0]+r.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};t[s]?t[s].parts.push(a):n.push(t[s]={id:s,parts:[a]})}return n}function g(e,r){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var t=p[p.length-1];if("top"===e.insertAt)t?t.nextSibling?n.insertBefore(r,t.nextSibling):n.appendChild(r):n.insertBefore(r,n.firstChild),p.push(r);else if("bottom"===e.insertAt)n.appendChild(r);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(r,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var r=p.indexOf(e);r>=0&&p.splice(r,1)}function f(e){var r=document.createElement("style");return e.attrs.type="text/css",v(r,e.attrs),g(e,r),r}function v(e,r){Object.keys(r).forEach(function(n){e.setAttribute(n,r[n])})}function b(e,r){var n,t,o,i;if(r.transform&&e.css){if(!(i=r.transform(e.css)))return function(){};e.css=i}if(r.singleton){var s=c++;n=l||(l=f(r)),t=w.bind(null,n,s,!1),o=w.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var r=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(r,e.attrs),g(e,r),r}(r),t=function(e,r,n){var t=n.css,o=n.sourceMap,i=void 0===r.convertToAbsoluteUrls&&o;(r.convertToAbsoluteUrls||i)&&(t=u(t));o&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([t],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,r),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(r),t=function(e,r){var n=r.css,t=r.media;t&&e.setAttribute("media",t);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else o()}}e.exports=function(e,r){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(r=r||{}).attrs="object"==typeof r.attrs?r.attrs:{},r.singleton||"boolean"==typeof r.singleton||(r.singleton=s()),r.insertInto||(r.insertInto="head"),r.insertAt||(r.insertAt="bottom");var n=d(e,r);return m(n,r),function(e){for(var t=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,t.push(a)}e&&m(d(e,r),r);for(o=0;o<t.length;o++){var a;if(0===(a=t[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var y,x=(y=[],function(e,r){return y[e]=r,y.filter(Boolean).join("\n")});function w(e,r,n,t){var o=n?"":t.css;if(e.styleSheet)e.styleSheet.cssText=x(r,o);else{var i=document.createTextNode(o),s=e.childNodes;s[r]&&e.removeChild(s[r]),s.length?e.insertBefore(i,s[r]):e.appendChild(i)}}},function(e,r){e.exports=function(e){var r=[];return r.toString=function(){return this.map(function(r){var n=function(e,r){var n=e[1]||"",t=e[3];if(!t)return n;if(r&&"function"==typeof btoa){var o=(s=t,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=t.sources.map(function(e){return"/*# sourceURL="+t.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var s;return[n].join("\n")}(r,e);return r[2]?"@media "+r[2]+"{"+n+"}":n}).join("")},r.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var t={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(t[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&t[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),r.push(s))}},r}},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,"*, *::before, *::after, body {\r\n    margin: 0;\r\n    padding:0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nhtml {\r\n    font-size: 62.5%;\r\n}\r\n\r\n\r\n.container {\r\n    height: inherit;\r\n    width: 80%;\r\n    margin: auto;\r\n}\r\n\r\nbody {\r\n    background-color: mintcream;\r\n}",""])},function(e,r,n){var t=n(2);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){angular.module("app").service("PreviewedImagesService",["$q",function(e){let r=this;r.database={nature:["https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/188029/pexels-photo-188029.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],people:["https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/574177/pexels-photo-574177.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],women:["https://images.pexels.com/photos/324658/pexels-photo-324658.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/324658/pexels-photo-324658.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/324658/pexels-photo-324658.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],rain:["https://images.pexels.com/photos/39811/pexels-photo-39811.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/39811/pexels-photo-39811.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/39811/pexels-photo-39811.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"],forest:["https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260","https://images.pexels.com/photos/814499/pexels-photo-814499.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"]},this.getImagesBySection=function(n){return console.log(n),e((e,t)=>{e(r.database[n])})}}])},function(e,r){angular.module("app").service("SectionsService",["$q",function(e){this.getSections=function(){return e((e,r)=>{e(["nature","people","women","rain","forest"])})}}])},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".section-container {\r\n  margin-bottom: 10rem;\r\n}\r\n\r\n.carousel-section {}\r\n\r\n.carousel-container {}\r\n\r\n.carousel-main-image {\r\n  width: 82%;\r\n  position: relative;\r\n  margin: 12rem auto 0 auto;\r\n}\r\n\r\n.carousel-count {\r\n  position: absolute;\r\n  font-size: 2rem;\r\n}\r\n\r\n.carousel-preview-image {\r\n  width: 92%;\r\n  border: .3rem solid #ccc;\r\n  \r\n  height: 76rem;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-color: #333;\r\n  margin: auto;\r\n}\r\n\r\n.carousel-actions-container {\r\n  display: flex;\r\n  top: 0;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 100%;\r\n  position: absolute;\r\n}\r\n\r\n.carousel-prev {\r\n  color: #1E90FF;\r\n  font-size: 10rem;\r\n  -webkit-user-select: none; /* Chrome/Safari */        \r\n  -moz-user-select: none; /* Firefox */\r\n  -ms-user-select: none; /* IE10+ */\r\n  transition: all .1s;\r\n}\r\n\r\n.carousel-next {\r\n  color: #1E90FF;\r\n  font-size: 10rem;\r\n  transition: all .1s;\r\n  margin-right: 0.4rem;\r\n  -webkit-user-select: none; /* Chrome/Safari */        \r\n  -moz-user-select: none; /* Firefox */\r\n  -ms-user-select: none; /* IE10+ */\r\n}\r\n\r\n.carousel-prev:hover,\r\n.carousel-next:hover {\r\n  cursor: pointer;\r\n  transform: scale(1.1);\r\n}\r\n\r\n.carousel-caption-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 4rem;\r\n  width: 92%;\r\n  margin: auto;\r\n  background-color: #333;\r\n  border: 2px solid #ccc;\r\n}\r\n\r\n.carousel-caption-text {\r\n  \r\n  font-size: 3rem;\r\n  color: #fafafa;\r\n}\r\n\r\n.carousel-bottomt-slider {\r\n  display: -webkit-flex;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n  width: 56%;\r\n  margin: auto;\r\n  display: flex;\r\n}\r\n\r\n.carousel-bottom-item-container:not(:first-child), .carousel-bottom-item-container:not(:nth-child(3n + 1)) {\r\n  flex: 0 0 33.33%;\r\n  margin: 0 0  0 0;\r\n  height: 20rem;\r\n  border: 2px solid #ccc;\r\n  opacity: .5;\r\n}\r\n\r\n.chosen {\r\n  opacity: 1 !important;\r\n  \r\n}\r\n\r\n\r\n\r\n.carousel-bottom-item-container:nth-child(3n){\r\n  margin: 0 0 0 0;\r\n}\r\n\r\n.carousel-bottom-item-container:nth-child(3n + 1), .carousel-bottom-item-container:first-child {\r\n  flex: 0 0 33.33%;\r\n  margin: 0 0 0 0;\r\n  height: 20rem;\r\n  border: 2px solid #ccc;\r\n  opacity: .5;\r\n}\r\n\r\n.carousel-bottom-item {\r\n  width: 100%;\r\n  height: 20rem;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-size: cover;\r\n}\r\n\r\n.fadeArrow {\r\n  color: grey !important;\r\n}\r\n\r\n.carousel-bottom-item-container:hover {\r\n  cursor: pointer;\r\n  opacity: .9;\r\n  border-color: #1E90FF;\r\n}",""])},function(e,r,n){var t=n(6);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="section-container">\r\n\r\n\r\n\r\n  \x3c!-- TODO: Clipboard copying here --\x3e\r\n  <section class="carousel-section">\r\n    <div class="carousel-container">\r\n      <div class="carousel-main-image">\r\n        <div class="carousel-count">1 / 6</div>\r\n        <div class="carousel-preview-image" ng-style="{\'background-image\':\'url(\' + $ctrl.images[$ctrl.imgToPreview] + \')\'}"></div>\r\n\r\n\r\n        <div class="carousel-actions-container">\r\n          <a class="carousel-prev" ng-click="$ctrl.showPrevImage()" ng-class="{\'fadeArrow\' : $ctrl.leftDisabled }">❮</a>\r\n          <a class="carousel-next" ng-click="$ctrl.showNextImage()" ng-class="{\'fadeArrow\' : $ctrl.rightDisabled }">❯</a>\r\n        </div>\r\n\r\n        <div class="carousel-caption-container">\r\n          <p class="carousel-caption-text">hello</p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n\r\n\r\n    <div class="carousel-bottomt-slider">\r\n      <div ng-repeat="image in $ctrl.images track by $index" class="carousel-bottom-item-container" ng-class="{\'chosen\' : $index == $ctrl.imgToPreview }" ng-click="$ctrl.showExectItem($index)">\r\n        <div class="carousel-bottom-item"   ng-style="{\'background-image\':\'url({{image}})\'}" ng-click="$ctrl.showImage(image)"></div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n\r\n\r\n</section>\r\n\x3c!-- \r\n  <div>\r\n    <ul>\r\n      <li ng-repeat="x in $ctrl.sections track by $index">{{x}}</li>\r\n    </ul>\r\n\r\n    <div>\r\n      <h2>Click button to add link to the clipboard</h2>\r\n      <h2>Link was added to the clipboard</h2>\r\n    </div>\r\n    <div class="copy-to-clipboard-container">\r\n      <input type="text" class="copy-to-clipboard-input">\r\n      <button ng-click="$ctrl.copyToClipboard()" class="copy-to-clipboard-button">Copy</button>\r\n    </div>\r\n  </div>\r\n\r\n</section> --\x3e'},function(e,r,n){angular.module("app").component("appSection",{template:n(8),bindings:{images:"<"},controller:function(){let e=this;e.copiedSuccessful=!1,e.$onInit=function(){e.leftDisabled=!0,e.rightDisabled=!1,console.log(e.imgToPreview),console.log(e.images),e.imgToPreview=0},e.$onChanges=function(r){r.images&&(e.images=r.images.currentValue)},e.showExectItem=function(r){console.log(r),e.leftDisabled=0==r,e.rightDisabled=r==e.images.length-1,e.imgToPreview=r},this.showNextImage=(()=>{if(e.leftDisabled=!1,e.rightDisabled=e.imgToPreview+2>=e.images.length,e.imgToPreview==e.images.length-1)return;e.imgToPreview++;let r=document.querySelector(".carousel-bottomt-slider").offsetWidth;console.log("width",r);let n=.33*r;console.log("elemW",n);let t=e.imgToPreview/3;Number.isInteger(t)&&(document.querySelector(".carousel-bottomt-slider").scrollLeft=t*r)}),this.showPrevImage=(()=>{if(e.leftDisabled=e.imgToPreview-2<0,e.rightDisabled=!1,0==e.imgToPreview)return;e.imgToPreview--;let r=document.querySelector(".carousel-bottomt-slider").offsetWidth;console.log("width",r);let n=.33*r;console.log("elemW",n);let t=(e.imgToPreview+1)/3;Number.isInteger(t)?document.querySelector(".carousel-bottomt-slider").scrollLeft=t*r-r:document.querySelector(".carousel-bottomt-slider").scrollLeft=Math.floor(t)*r}),this.copyToClipboard=function(){document.querySelector(".copy-to-clipboard-input").select(),document.execCommand("copy")?e.copiedSuccessful=!0:console.log("error while copying to clipbaord")}}}),n(7)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".footer-section {\r\n    background-color: #eeeeee;\r\n   \r\n    \r\n}\r\n\r\n.footer-info-container {\r\n    height: 15rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.footer-info-container > h2 {\r\n    font-size: 3rem;\r\n    color: #1E90FF;\r\n}",""])},function(e,r,n){var t=n(10);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<footer class="footer-section">\r\n    <div class="footer-info-container">\r\n        <h2>All right reserved &copy; Anatolii Yatsenko</h2>\r\n    </div>\r\n</footer>'},function(e,r,n){angular.module("app").component("appFooter",{template:n(12),controller:function(){}}),n(11)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".gallery-previewer {\r\n    background-color: white;\r\n}\r\n\r\n\r\n\r\n.gallery-previewer-composition {\r\n    display: block;\r\n    position: relative;\r\n    width:50%;\r\n    margin: auto;\r\n    margin-top: 5rem;\r\n}\r\n\r\n.gallery-previewer-example {\r\n    width: 35rem;\r\n    height: 20rem;\r\n    position: absolute;\r\n    z-index: 1;\r\n    background-size: cover;\r\n    box-shadow: 0 1.5rem 4rem rgba(0, 0, 0, 0.4);\r\n    border-radius: 3px;\r\n    transition: all .2s;\r\n    outline-offset: 2rem;\r\n}\r\n\r\n.gallery-previewer-example:hover {\r\n    z-index: 100;\r\n    outline: 1.5rem solid darkslategrey;\r\n    box-shadow: 0 2.5rem 4rem rgba(0, 0, 0, 0.5);\r\n    transform: scale(1.05) translateY(-0.5rem);\r\n}\r\n\r\n.gallery-previewer-example:nth-child(1){\r\n    top:0;\r\n    left:0;\r\n\r\n}\r\n\r\n.gallery-previewer-example:nth-child(2){\r\n    \r\n    top: 13rem;\r\n    left: 11rem;\r\n}\r\n\r\n.gallery-previewer-example:nth-child(3){\r\n    \r\n    top: 4rem;\r\n    left: 24rem;\r\n}",""])},function(e,r,n){var t=n(14);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="gallery-previewer">\r\n    <div class="gallery-previewer-container">\r\n        <div class="gallery-previewer-composition">\r\n            <img ng-repeat="image in $ctrl.images track by $index | limitTo: 3" style=\'background-image:url({{image}})\'  alt="" class="gallery-previewer-example">\r\n            \x3c!-- <img ng-repeat="image in $ctrl.images" ng-src="../../../assets/img/4k-nature-wallpaper-0049.jpg" alt="" class="gallery-previewer-example"> --\x3e\r\n            \x3c!-- <img src="./assets/img/4k-nature-wallpaper-0049.jpg" alt="" class="gallery-previewer-example">\r\n            <img src="../assets/img/4k-nature-wallpaper-0049.jpg" alt="" class="gallery-previewer-example"> --\x3e\r\n        </div>\r\n    </div>\r\n</section>'},function(e,r,n){angular.module("app").component("appGalleryPreviewer",{template:n(16),bindings:{images:"<"},controller:function(){}}),n(15)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,'.gallery-sidemenu {\r\n    flex-basis: 30%;\r\n    background-color: inherit;\r\n    \r\n}\r\n\r\n.gallery-sidemenu-link-container{\r\n    margin-top: 8rem;\r\n    padding-left: 20rem;\r\n}\r\n\r\n.gallery-sidemenu-link-list{\r\n    list-style: none;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.gallery-sidemenu-link-item {\r\n    position: relative;\r\n    padding: .5rem 0 .5rem 1.5rem;\r\n    cursor: pointer;\r\n    /* border: 1px solid lightgrey; */\r\n}\r\n.gallery-sidemenu-link-item:after{\r\n    content: "\\2192";\r\n    position: absolute;\r\n    top: 0;\r\n    font-size: 4rem;\r\n    color: #1E90FF;\r\n    right: 20rem;\r\n    height: 100%;\r\n    opacity:0;\r\n    width: 3px;\r\n    transition: all .4s cubic-bezier(1, 0, 0, 1) 0.2s;\r\n}\r\n\r\n.gallery-sidemenu-link-item:hover:after {\r\n    right: 10%;\r\n    opacity: 1;\r\n}\r\n.gallery-sidemenu-link-item:before {\r\n    /* content: \'\';\r\n    border-bottom: 1px solid green;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    height:100%;\r\n    width:3px;\r\n    transform: scaleX(0);\r\n    transform-origin: left;\r\n    transition: transform 0.2s, width 0.4s cubic-bezier(1, 0, 0, 1) 0.2s, border-bottom .3s; */\r\n    \r\n    content: "";\r\n    position: absolute;\r\n    top: 0;\r\n   \r\n    left: 0;\r\n    height: 100%;\r\n    width: 3px;\r\n    /* clip-path: polygon(0 0, 1 0, 50% 50%, 100% 100%); */\r\n    /* background-color: #1E90FF; */\r\n\r\n    transform: scaleY(0);\r\n    transform-origin: center;\r\n    transition: transform 0.2s, width 0.4s cubic-bezier(1, 0, 0, 1) 0.2s,border .4s, background-color 0.1s;\r\n    \r\n}\r\n.gallery-sidemenu-link-item:hover:before{\r\n    /* transform: scaleX(1);\r\n    width: 100%; */\r\n    border-bottom: 3px solid #1E90FF;\r\n    transform: scaleY(1);\r\n    width: 100%;\r\n}\r\n/* .gallery-sidemenu-link-item:hover {\r\n    border-bottom: 1px solid #1E90FF;\r\n} */\r\n\r\n/* transition: transform 0.2s, width 0.4s cubic-bezier(1, 0, 0, 1) 0.2s,  */\r\n.gallery-sidemenu-link-a {\r\n    position: relative;\r\n    color:#333333;\r\n    text-decoration: none;\r\n    display: block;\r\n    width:100%;\r\n    font-style: italic;\r\n    text-transform: capitalize;\r\n    letter-spacing: .3rem;\r\n    font-size: 3rem;\r\n    font-weight: 100;\r\n}\r\n.gallery-sidemenu-link-list:nth-child(1){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(2){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(3){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(4){\r\n\r\n}\r\n\r\n.gallery-sidemenu-link-list:nth-child(5){\r\n\r\n}',""])},function(e,r,n){var t=n(18);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="gallery-sidemenu">\r\n    <div class="gallery-sidemenu-link-container">\r\n        <ul class="gallery-sidemenu-link-list">\r\n            <li class="gallery-sidemenu-link-item" ng-repeat="section in $ctrl.sections"  >\r\n                <a ui-sref="section({section: section})" ng-mouseover="$ctrl.getImages({section:section});  $ctrl.startAnimation($event)" class="gallery-sidemenu-link-a">{{section}}</a>\r\n            </li>\r\n          \r\n        </ul>\r\n    </div>\r\n</section>'},function(e,r,n){angular.module("app").component("appGallerySidemenu",{template:n(20),bindings:{sections:"<",getImages:"&"},controller:function(){this.startAnimation=function(e){e.target.value}}}),n(19)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".gallery-section {\r\n    background-color: #eeeeee;\r\n    height: 100vh;\r\n}\r\n.gallery-heading {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 25rem;\r\n}\r\n.gallery-heading h2{\r\n    color: #1E90FF;\r\n    font-weight: 400;\r\n    font-size: 6rem;\r\n    padding: 2rem;\r\n}\r\n\r\n.gallery-folder {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    \r\n}\r\n",""])},function(e,r,n){var t=n(22);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="gallery-section">\r\n    <div class="container">\r\n        <div class="gallery-heading">\r\n            <h2>Gallery with different images</h2>\r\n        </div>\r\n        <div class="gallery-folder">\r\n            <app-gallery-sidemenu sections="$ctrl.sections" get-images="$ctrl.onSectionChange(section)" style="flex-basis:30%;"></app-gallery-sidemenu>\r\n            <app-gallery-previewer images="$ctrl.images"  style="flex-basis:70%;"></app-gallery-previewer>\r\n        </div>\r\n        \r\n    </div>\r\n</section>\r\n'},function(e,r,n){angular.module("app").component("appGallery",{template:n(24),controller:["SectionsService","PreviewedImagesService",function(e,r){let n=this;this.$onInit=function(){e.getSections().then(e=>{console.log(e),n.sections=e}),r.getImagesBySection("people").then(e=>{n.images=e})},this.onSectionChange=function(e){console.log(e),r.getImagesBySection(e).then(e=>{n.images=e})}}]}),n(23)},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".showcase {\r\n    height: 80vh;\r\n    background: url(/assets/img/street.jpg) no-repeat 0 -20vh;\r\n    background-attachment: fixed;\r\n    \r\n}\r\n\r\n.showcase-outer {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: inherit;\r\n}\r\n.showcase-info-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n}\r\n.showcase-welcome {\r\n    color: #fafafa;\r\n    font-size: 7rem;\r\n    letter-spacing: .3rem;\r\n    text-shadow: 2px 2px 4px #000000;\r\n}\r\n\r\n.showcase-creator {\r\n    color: #fafafa;\r\n    font-size: 4rem;\r\n    text-shadow: 2px 2px 4px #000000;\r\n}",""])},function(e,r,n){var t=n(26);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r){e.exports='<section class="showcase">\r\n    <div class="container">\r\n        <div class="showcase-outer">\r\n            <div class="showcase-info-container">\r\n                <h1 class="showcase-welcome">Welcome to the Gallery</h1>\r\n                <p class="showcase-creator">made by Anatolii Yatsenko</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n<app-gallery></app-gallery>'},function(e,r,n){angular.module("app").component("appShowcase",{template:n(28),controller:function(){}}),n(27)},function(e,r){e.exports='<header class="nav_bav">\r\n  <div class="container">\r\n    <div class="nav_container">\r\n      <div class="responsive_text">\r\n        <h3><span style="color:#1E90FF;">Responsive</span> gallery</h3>\r\n      </div>\r\n      <nav class="navigation_container">\r\n        <ul class="list">\r\n          <li>HOME</li>\r\n          <li>ABOUT US</li>\r\n          <li>SIGN IN</li>\r\n          <li>SIGN UP</li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n</header>'},function(e,r){e.exports=function(e){var r="undefined"!=typeof window&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=r.protocol+"//"+r.host,t=n+r.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,r){var o,i=r.trim().replace(/^"(.*)"$/,function(e,r){return r}).replace(/^'(.*)'$/,function(e,r){return r});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:t+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,r,n){(e.exports=n(1)(!1)).push([e.i,".nav_bav {\r\n    background-color: #35424a;\r\n    border-bottom: #1E90FF 3px solid;\r\n    height: 8rem;\r\n}\r\n\r\n\r\n.nav_container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: inherit;\r\n}\r\n\r\n.responsive_text {\r\n\r\n}\r\n\r\n.responsive_text h3 {\r\n    font-size: 3.2rem;\r\n    color: white;\r\n}\r\n\r\n.list {\r\n    display: flex;\r\n    list-style: none;\r\n}\r\n\r\n.list li {\r\n    color: white;\r\n    font-size: 2rem;\r\n    padding: 1rem 2rem;\r\n} ",""])},function(e,r,n){var t=n(32);"string"==typeof t&&(t=[[e.i,t,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(0)(t,o);t.locals&&(e.exports=t.locals)},function(e,r,n){n(33),angular.module("app").component("appNavBar",{template:n(30),controller:function(){}})},function(e,r,n){angular.module("app",["ui.router"]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(e,r){r.otherwise("/"),e.state({name:"home",url:"/",template:"<app-showcase></app-showcase>"}).state({name:"section",url:"/section/:section",template:'<app-section images="vm.items"></app-section>',resolve:{data:function(){}},controller:["$stateParams","PreviewedImagesService",function(e,r){this.items="";let n=this;this.$onInit=(()=>{r.getImagesBySection(e.section).then(e=>{console.log(e),n.items=e})})}],controllerAs:"vm"})}]),n(34),n(29),n(25),n(21),n(17),n(13),n(9),n(5),n(4),n(3)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcz9mYmE0Iiwid2VicGFjazovLy8uL3NlcnZpY2VzL3ByZXZpZXdlZC1pbWFnZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9zZWN0aW9ucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2VjdGlvbi9zZWN0aW9uLmNzcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NlY3Rpb24vc2VjdGlvbi5jc3M/YjdmYyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NlY3Rpb24vc2VjdGlvbi5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2VjdGlvbi9zZWN0aW9uLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jc3M/NDYwYyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXByZXZpZXdlci9nYWxsZXJ5LXByZXZpZXdlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktcHJldmlld2VyL2dhbGxlcnktcHJldmlld2VyLmNzcz9lNTNlIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXByZXZpZXdlci9nYWxsZXJ5LXByZXZpZXdlci5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXByZXZpZXdlci9nYWxsZXJ5LXByZXZpZXdlci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktc2lkZW1lbnUvZ2FsbGVyeS1zaWRlbWVudS5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktc2lkZW1lbnUvZ2FsbGVyeS1zaWRlbWVudS5jc3M/MjYzOSIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2dhbGxlcnkvZ2FsbGVyeS1zaWRlbWVudS9nYWxsZXJ5LXNpZGVtZW51Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktc2lkZW1lbnUvZ2FsbGVyeS1zaWRlbWVudS5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnkuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LmNzcz80ZGRmIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnkuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hvd2Nhc2Uvc2hvd2Nhc2UuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hvd2Nhc2Uvc2hvd2Nhc2UuY3NzPzg5NzUiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9zaG93Y2FzZS9zaG93Y2FzZS5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hvd2Nhc2Uvc2hvd2Nhc2UuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvYXBwLW5hdi1iYXIvYXBwTmF2QmFyLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2FwcC1uYXYtYmFyL2FwcE5hdkJhci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9hcHAtbmF2LWJhci9hcHBOYXZCYXIuY3NzPzIwOWMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9hcHAtbmF2LWJhci9hcHBOYXZCYXIuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2FwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJsZW5ndGgiLCJpdGVtIiwiZG9tU3R5bGUiLCJpZCIsInJlZnMiLCJqIiwicGFydHMiLCJwdXNoIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsIkVycm9yIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwidW5kZWZpbmVkIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwiYW5ndWxhciIsInNlcnZpY2UiLCIkcSIsImN0cmwiLCJkYXRhYmFzZSIsIm5hdHVyZSIsInBlb3BsZSIsIndvbWVuIiwicmFpbiIsImZvcmVzdCIsImdldEltYWdlc0J5U2VjdGlvbiIsInNlY3Rpb24iLCJjb25zb2xlIiwibG9nIiwicmVzb2x2ZSIsInJlamVjdCIsImdldFNlY3Rpb25zIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJiaW5kaW5ncyIsImltYWdlcyIsImNvbnRyb2xsZXIiLCJjb3BpZWRTdWNjZXNzZnVsIiwiJG9uSW5pdCIsImxlZnREaXNhYmxlZCIsInJpZ2h0RGlzYWJsZWQiLCJpbWdUb1ByZXZpZXciLCIkb25DaGFuZ2VzIiwiY2hhbmdlcyIsImN1cnJlbnRWYWx1ZSIsInNob3dFeGVjdEl0ZW0iLCJzaG93TmV4dEltYWdlIiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsImVsZW1XIiwiZiIsIk51bWJlciIsImlzSW50ZWdlciIsInNjcm9sbExlZnQiLCJzaG93UHJldkltYWdlIiwiTWF0aCIsImZsb29yIiwiY29weVRvQ2xpcGJvYXJkIiwic2VsZWN0IiwiZXhlY0NvbW1hbmQiLCJzZWN0aW9ucyIsImdldEltYWdlcyIsInN0YXJ0QW5pbWF0aW9uIiwiZXZlbnQiLCJTZWN0aW9uc1NlcnZpY2UiLCJQcmV2aWV3ZWRJbWFnZXNTZXJ2aWNlIiwidGhlbiIsImRhdGEiLCJvblNlY3Rpb25DaGFuZ2UiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwiJHN0YXRlUGFyYW1zIiwiaXRlbXMiLCJjb250cm9sbGVyQXMiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFWLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBZ0IsRUFBQUMsSUFHdER4QixFQUFBMkIsRUFBQSxHQUlBM0IsSUFBQTRCLEVBQUEsc0JDOURBLElBRUFDLEVBQ0FDLEVBSEFDLEtBV0FDLEdBVEFILEVBU0EsV0FNQSxPQUFBSSxRQUFBQyxtQkFBQUMsTUFBQUYsT0FBQUcsTUFa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MU4sS0FBQSxVQUNBMk4sSUFBQSxvQkFDQXZELFNBQUEsZ0RBQ0FKLFNBQ0FzQyxLQUFBLGNBSUEvQixZQUFBLGlEQUFBcUQsRUFBQXhCLEdBQ0F6SyxLQUFBa00sTUFBQSxHQUNBLElBQUF4RSxFQUFBMUgsS0FDQUEsS0FBQThJLFFBQUEsTUFDQTJCLEVBQUF4QyxtQkFBQWdFLEVBQUEvRCxTQUFBd0MsS0FBQUMsSUFDQXhDLFFBQUFDLElBQUF1QyxHQUVBakQsRUFBQXdFLE1BQUF2QixRQU9Bd0IsYUFBQSxVQU9Bek8sRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxHQUVBQSxFQUFBLEdBQ0FBLEVBQUEsR0FFQUEsRUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDM1KTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqLCAqOjpiZWZvcmUsICo6OmFmdGVyLCBib2R5IHtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOjA7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcblxcclxcbmh0bWwge1xcclxcbiAgICBmb250LXNpemU6IDYyLjUlO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4uY29udGFpbmVyIHtcXHJcXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xcclxcbiAgICB3aWR0aDogODAlO1xcclxcbiAgICBtYXJnaW46IGF1dG87XFxyXFxufVxcclxcblxcclxcbmJvZHkge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBtaW50Y3JlYW07XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuc2VydmljZSgnUHJldmlld2VkSW1hZ2VzU2VydmljZScsWyckcScsIGZ1bmN0aW9uKCRxKXtcclxuICAgICAgICBsZXQgY3RybCA9IHRoaXM7XHJcbiAgICAgICAgY3RybC5kYXRhYmFzZSA9IHtcclxuICAgICAgICAgICAgJ25hdHVyZSc6IFtcclxuICAgICAgICAgICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzE4ODAyOS9wZXhlbHMtcGhvdG8tMTg4MDI5LmpwZWc/YXV0bz1jb21wcmVzcyZjcz10aW55c3JnYiZkcHI9MiZoPTc1MCZ3PTEyNjAnLFxyXG4gICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvNTc0MTc3L3BleGVscy1waG90by01NzQxNzcuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMTg4MDI5L3BleGVscy1waG90by0xODgwMjkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvNTc0MTc3L3BleGVscy1waG90by01NzQxNzcuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMTg4MDI5L3BleGVscy1waG90by0xODgwMjkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMTg4MDI5L3BleGVscy1waG90by0xODgwMjkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMTg4MDI5L3BleGVscy1waG90by0xODgwMjkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMTg4MDI5L3BleGVscy1waG90by0xODgwMjkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMTg4MDI5L3BleGVscy1waG90by0xODgwMjkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCdcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAncGVvcGxlJzpbXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvNTc0MTc3L3BleGVscy1waG90by01NzQxNzcuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvNTc0MTc3L3BleGVscy1waG90by01NzQxNzcuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvNTc0MTc3L3BleGVscy1waG90by01NzQxNzcuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCdcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgJ3dvbWVuJzpbXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMzI0NjU4L3BleGVscy1waG90by0zMjQ2NTguanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMzI0NjU4L3BleGVscy1waG90by0zMjQ2NTguanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMzI0NjU4L3BleGVscy1waG90by0zMjQ2NTguanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCdcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgJ3JhaW4nOltcclxuICAgICAgICAgICAgICAgICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy8zOTgxMS9wZXhlbHMtcGhvdG8tMzk4MTEuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMzk4MTEvcGV4ZWxzLXBob3RvLTM5ODExLmpwZWc/YXV0bz1jb21wcmVzcyZjcz10aW55c3JnYiZkcHI9MiZoPTc1MCZ3PTEyNjAnLFxyXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzM5ODExL3BleGVscy1waG90by0zOTgxMS5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2ImZHByPTImaD03NTAmdz0xMjYwJ1xyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAnZm9yZXN0JzpbXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvODE0NDk5L3BleGVscy1waG90by04MTQ0OTkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvODE0NDk5L3BleGVscy1waG90by04MTQ0OTkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCcsXHJcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvODE0NDk5L3BleGVscy1waG90by04MTQ0OTkuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJmRwcj0yJmg9NzUwJnc9MTI2MCdcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRJbWFnZXNCeVNlY3Rpb24gPSBmdW5jdGlvbihzZWN0aW9uKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc2VjdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiAkcSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGN0cmwuZGF0YWJhc2Vbc2VjdGlvbl0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1dKSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLnNlcnZpY2UoJ1NlY3Rpb25zU2VydmljZScsWyckcScsIGZ1bmN0aW9uKCRxKXtcclxuICAgICAgICB0aGlzLmdldFNlY3Rpb25zID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuICRxKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoW1xyXG4gICAgICAgICAgICAgICAgICAgICduYXR1cmUnLCBcclxuICAgICAgICAgICAgICAgICAgICAncGVvcGxlJyxcclxuICAgICAgICAgICAgICAgICAgICAnd29tZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICdyYWluJyxcclxuICAgICAgICAgICAgICAgICAgICAnZm9yZXN0J1xyXG4gICAgICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XSk7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2VjdGlvbi1jb250YWluZXIge1xcclxcbiAgbWFyZ2luLWJvdHRvbTogMTByZW07XFxyXFxufVxcclxcblxcclxcbi5jYXJvdXNlbC1zZWN0aW9uIHt9XFxyXFxuXFxyXFxuLmNhcm91c2VsLWNvbnRhaW5lciB7fVxcclxcblxcclxcbi5jYXJvdXNlbC1tYWluLWltYWdlIHtcXHJcXG4gIHdpZHRoOiA4MiU7XFxyXFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICBtYXJnaW46IDEycmVtIGF1dG8gMCBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtY291bnQge1xcclxcbiAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgZm9udC1zaXplOiAycmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtcHJldmlldy1pbWFnZSB7XFxyXFxuICB3aWR0aDogOTIlO1xcclxcbiAgYm9yZGVyOiAuM3JlbSBzb2xpZCAjY2NjO1xcclxcbiAgXFxyXFxuICBoZWlnaHQ6IDc2cmVtO1xcclxcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXHJcXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxyXFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcclxcbiAgbWFyZ2luOiBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtYWN0aW9ucy1jb250YWluZXIge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIHRvcDogMDtcXHJcXG4gIHdpZHRoOiAxMDAlO1xcclxcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIGhlaWdodDogMTAwJTtcXHJcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmNhcm91c2VsLXByZXYge1xcclxcbiAgY29sb3I6ICMxRTkwRkY7XFxyXFxuICBmb250LXNpemU6IDEwcmVtO1xcclxcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgLyogQ2hyb21lL1NhZmFyaSAqLyAgICAgICAgXFxyXFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lOyAvKiBGaXJlZm94ICovXFxyXFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7IC8qIElFMTArICovXFxyXFxuICB0cmFuc2l0aW9uOiBhbGwgLjFzO1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtbmV4dCB7XFxyXFxuICBjb2xvcjogIzFFOTBGRjtcXHJcXG4gIGZvbnQtc2l6ZTogMTByZW07XFxyXFxuICB0cmFuc2l0aW9uOiBhbGwgLjFzO1xcclxcbiAgbWFyZ2luLXJpZ2h0OiAwLjRyZW07XFxyXFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOyAvKiBDaHJvbWUvU2FmYXJpICovICAgICAgICBcXHJcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IC8qIEZpcmVmb3ggKi9cXHJcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTsgLyogSUUxMCsgKi9cXHJcXG59XFxyXFxuXFxyXFxuLmNhcm91c2VsLXByZXY6aG92ZXIsXFxyXFxuLmNhcm91c2VsLW5leHQ6aG92ZXIge1xcclxcbiAgY3Vyc29yOiBwb2ludGVyO1xcclxcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtY2FwdGlvbi1jb250YWluZXIge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIGhlaWdodDogNHJlbTtcXHJcXG4gIHdpZHRoOiA5MiU7XFxyXFxuICBtYXJnaW46IGF1dG87XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcclxcbiAgYm9yZGVyOiAycHggc29saWQgI2NjYztcXHJcXG59XFxyXFxuXFxyXFxuLmNhcm91c2VsLWNhcHRpb24tdGV4dCB7XFxyXFxuICBcXHJcXG4gIGZvbnQtc2l6ZTogM3JlbTtcXHJcXG4gIGNvbG9yOiAjZmFmYWZhO1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtYm90dG9tdC1zbGlkZXIge1xcclxcbiAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xcclxcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xcclxcbiAgb3ZlcmZsb3cteDogYXV0bztcXHJcXG4gIHdpZHRoOiA1NiU7XFxyXFxuICBtYXJnaW46IGF1dG87XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtYm90dG9tLWl0ZW0tY29udGFpbmVyOm5vdCg6Zmlyc3QtY2hpbGQpLCAuY2Fyb3VzZWwtYm90dG9tLWl0ZW0tY29udGFpbmVyOm5vdCg6bnRoLWNoaWxkKDNuICsgMSkpIHtcXHJcXG4gIGZsZXg6IDAgMCAzMy4zMyU7XFxyXFxuICBtYXJnaW46IDAgMCAgMCAwO1xcclxcbiAgaGVpZ2h0OiAyMHJlbTtcXHJcXG4gIGJvcmRlcjogMnB4IHNvbGlkICNjY2M7XFxyXFxuICBvcGFjaXR5OiAuNTtcXHJcXG59XFxyXFxuXFxyXFxuLmNob3NlbiB7XFxyXFxuICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XFxyXFxuICBcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuLmNhcm91c2VsLWJvdHRvbS1pdGVtLWNvbnRhaW5lcjpudGgtY2hpbGQoM24pe1xcclxcbiAgbWFyZ2luOiAwIDAgMCAwO1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtYm90dG9tLWl0ZW0tY29udGFpbmVyOm50aC1jaGlsZCgzbiArIDEpLCAuY2Fyb3VzZWwtYm90dG9tLWl0ZW0tY29udGFpbmVyOmZpcnN0LWNoaWxkIHtcXHJcXG4gIGZsZXg6IDAgMCAzMy4zMyU7XFxyXFxuICBtYXJnaW46IDAgMCAwIDA7XFxyXFxuICBoZWlnaHQ6IDIwcmVtO1xcclxcbiAgYm9yZGVyOiAycHggc29saWQgI2NjYztcXHJcXG4gIG9wYWNpdHk6IC41O1xcclxcbn1cXHJcXG5cXHJcXG4uY2Fyb3VzZWwtYm90dG9tLWl0ZW0ge1xcclxcbiAgd2lkdGg6IDEwMCU7XFxyXFxuICBoZWlnaHQ6IDIwcmVtO1xcclxcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXHJcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXHJcXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxyXFxufVxcclxcblxcclxcbi5mYWRlQXJyb3cge1xcclxcbiAgY29sb3I6IGdyZXkgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLmNhcm91c2VsLWJvdHRvbS1pdGVtLWNvbnRhaW5lcjpob3ZlciB7XFxyXFxuICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICBvcGFjaXR5OiAuOTtcXHJcXG4gIGJvcmRlci1jb2xvcjogIzFFOTBGRjtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2VjdGlvbi5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2VjdGlvbi5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3NlY3Rpb24uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzZWN0aW9uIGNsYXNzPVxcXCJzZWN0aW9uLWNvbnRhaW5lclxcXCI+XFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuICA8IS0tIFRPRE86IENsaXBib2FyZCBjb3B5aW5nIGhlcmUgLS0+XFxyXFxuICA8c2VjdGlvbiBjbGFzcz1cXFwiY2Fyb3VzZWwtc2VjdGlvblxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY2Fyb3VzZWwtbWFpbi1pbWFnZVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXJvdXNlbC1jb3VudFxcXCI+MSAvIDY8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLXByZXZpZXctaW1hZ2VcXFwiIG5nLXN0eWxlPVxcXCJ7J2JhY2tncm91bmQtaW1hZ2UnOid1cmwoJyArICRjdHJsLmltYWdlc1skY3RybC5pbWdUb1ByZXZpZXddICsgJyknfVxcXCI+PC9kaXY+XFxyXFxuXFxyXFxuXFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYXJvdXNlbC1hY3Rpb25zLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgIDxhIGNsYXNzPVxcXCJjYXJvdXNlbC1wcmV2XFxcIiBuZy1jbGljaz1cXFwiJGN0cmwuc2hvd1ByZXZJbWFnZSgpXFxcIiBuZy1jbGFzcz1cXFwieydmYWRlQXJyb3cnIDogJGN0cmwubGVmdERpc2FibGVkIH1cXFwiPuKdrjwvYT5cXHJcXG4gICAgICAgICAgPGEgY2xhc3M9XFxcImNhcm91c2VsLW5leHRcXFwiIG5nLWNsaWNrPVxcXCIkY3RybC5zaG93TmV4dEltYWdlKClcXFwiIG5nLWNsYXNzPVxcXCJ7J2ZhZGVBcnJvdycgOiAkY3RybC5yaWdodERpc2FibGVkIH1cXFwiPuKdrzwvYT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcblxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2Fyb3VzZWwtY2FwdGlvbi1jb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgICA8cCBjbGFzcz1cXFwiY2Fyb3VzZWwtY2FwdGlvbi10ZXh0XFxcIj5oZWxsbzwvcD5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcblxcclxcbiAgICAgIDwvZGl2PlxcclxcblxcclxcblxcclxcblxcclxcbiAgICA8L2Rpdj5cXHJcXG5cXHJcXG5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY2Fyb3VzZWwtYm90dG9tdC1zbGlkZXJcXFwiPlxcclxcbiAgICAgIDxkaXYgbmctcmVwZWF0PVxcXCJpbWFnZSBpbiAkY3RybC5pbWFnZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwiY2Fyb3VzZWwtYm90dG9tLWl0ZW0tY29udGFpbmVyXFxcIiBuZy1jbGFzcz1cXFwieydjaG9zZW4nIDogJGluZGV4ID09ICRjdHJsLmltZ1RvUHJldmlldyB9XFxcIiBuZy1jbGljaz1cXFwiJGN0cmwuc2hvd0V4ZWN0SXRlbSgkaW5kZXgpXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWJvdHRvbS1pdGVtXFxcIiAgIG5nLXN0eWxlPVxcXCJ7J2JhY2tncm91bmQtaW1hZ2UnOid1cmwoe3tpbWFnZX19KSd9XFxcIiBuZy1jbGljaz1cXFwiJGN0cmwuc2hvd0ltYWdlKGltYWdlKVxcXCI+PC9kaXY+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9zZWN0aW9uPlxcclxcblxcclxcblxcclxcblxcclxcbjwvc2VjdGlvbj5cXHJcXG48IS0tIFxcclxcbiAgPGRpdj5cXHJcXG4gICAgPHVsPlxcclxcbiAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcInggaW4gJGN0cmwuc2VjdGlvbnMgdHJhY2sgYnkgJGluZGV4XFxcIj57e3h9fTwvbGk+XFxyXFxuICAgIDwvdWw+XFxyXFxuXFxyXFxuICAgIDxkaXY+XFxyXFxuICAgICAgPGgyPkNsaWNrIGJ1dHRvbiB0byBhZGQgbGluayB0byB0aGUgY2xpcGJvYXJkPC9oMj5cXHJcXG4gICAgICA8aDI+TGluayB3YXMgYWRkZWQgdG8gdGhlIGNsaXBib2FyZDwvaDI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb3B5LXRvLWNsaXBib2FyZC1jb250YWluZXJcXFwiPlxcclxcbiAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiY29weS10by1jbGlwYm9hcmQtaW5wdXRcXFwiPlxcclxcbiAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcIiRjdHJsLmNvcHlUb0NsaXBib2FyZCgpXFxcIiBjbGFzcz1cXFwiY29weS10by1jbGlwYm9hcmQtYnV0dG9uXFxcIj5Db3B5PC9idXR0b24+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kaXY+XFxyXFxuXFxyXFxuPC9zZWN0aW9uPiAtLT5cIjsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb21wb25lbnQoJ2FwcFNlY3Rpb24nLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vc2VjdGlvbi5odG1sJyksXHJcbiAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgaW1hZ2VzOiAnPCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgLy9UT0RPOjogd2hlbiB3ZSBjbGljayBvbiBpdGVtIGluIHRoZSBzbGlkZXIgLSB3ZSBzaG93IGl0IGluIG1haW4gd2luZG93IGFuZCB1cGRhdGUgYWxsIGluZm9cclxuICAgICAgICAgICAgLy9UT0RPOjogYWRkZWQgbmFtZSBvZiBmaWxlIGhhbmRsaW5nXHJcblxyXG4gICAgICAgICAgICBsZXQgY3RybCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGN0cmwuY29waWVkU3VjY2Vzc2Z1bCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY3RybC5sZWZ0RGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY3RybC5yaWdodERpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjdHJsLmltZ1RvUHJldmlldyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjdHJsLmltYWdlcyk7XHJcbiAgICAgICAgICAgICAgICBjdHJsLmltZ1RvUHJldmlldyA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN0cmwuJG9uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlcy5pbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLmltYWdlcyA9IGNoYW5nZXMuaW1hZ2VzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGlmIChjaGFuZ2VzLmltZ1RvUHJldmlldyl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coY2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY3RybC5yaWdodERpc2FibGVkID0gY3RybC5pbWFnZXMubGVuZ3RoID09IGNoYW5nZXMuaW1nVG9QcmV2aWV3ICsgMSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtcHJldmlldy1pbWFnZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgY3RybC5pbWFnZXNbY3RybC5pbWdUb1ByZXZpZXddICsgJyknO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGFuZ2VzJywgY2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3RybC5zaG93RXhlY3RJdGVtID0gZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjdHJsLmxlZnREaXNhYmxlZCA9IGluZGV4ID09IDA7XHJcbiAgICAgICAgICAgICAgICBjdHJsLnJpZ2h0RGlzYWJsZWQgPSBpbmRleCA9PSBjdHJsLmltYWdlcy5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY3RybC5pbWdUb1ByZXZpZXcgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNob3dOZXh0SW1hZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL1dST05HIEZMT1cgLSBcclxuICAgICAgICAgICAgICAgIGN0cmwubGVmdERpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjdHJsLnJpZ2h0RGlzYWJsZWQgPSBjdHJsLmltZ1RvUHJldmlldyArIDIgPj0gY3RybC5pbWFnZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN0cmwuaW1nVG9QcmV2aWV3ID09IGN0cmwuaW1hZ2VzLmxlbmd0aCAtIDEgKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdHJsLmltZ1RvUHJldmlldysrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vTW92aW5nIHNsaWRlclxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgc3RoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWJvdHRvbXQtc2xpZGVyJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBzdGgub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWxlbVcgPSB3aWR0aCAqIC4zMztcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbGVtVycsIGVsZW1XKTtcclxuICAgICAgICAgICAgICAgIC8vIGxldCBmaW5hbCA9IHdpZHRoIC0gMiAqIGVsZW1XO1xyXG4gICAgICAgICAgICAgICAgbGV0IGYgPSBjdHJsLmltZ1RvUHJldmlldyAvIDM7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWJvdHRvbXQtc2xpZGVyJykuc2Nyb2xsTGVmdCA9IGYgKiB3aWR0aCA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNob3dQcmV2SW1hZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjdHJsLmxlZnREaXNhYmxlZCA9IGN0cmwuaW1nVG9QcmV2aWV3IC0gMiA8IDA7XHJcbiAgICAgICAgICAgICAgICBjdHJsLnJpZ2h0RGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmKGN0cmwuaW1nVG9QcmV2aWV3ID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3RybC5pbWdUb1ByZXZpZXctLTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc3RoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWJvdHRvbXQtc2xpZGVyJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBzdGgub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWxlbVcgPSB3aWR0aCAqIC4zMztcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbGVtVycsIGVsZW1XKTtcclxuICAgICAgICAgICAgICAgIGxldCBmID0gKGN0cmwuaW1nVG9QcmV2aWV3ICsgMSkvIDM7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWJvdHRvbXQtc2xpZGVyJykuc2Nyb2xsTGVmdCA9IGYgKiB3aWR0aCAtIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtYm90dG9tdC1zbGlkZXInKS5zY3JvbGxMZWZ0ID0gTWF0aC5mbG9vcihmKSAqIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29weVRvQ2xpcGJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29weS10by1jbGlwYm9hcmQtaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2VsZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xpcGJvYXJkQ29weSA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xpcGJvYXJkQ29weSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuY29waWVkU3VjY2Vzc2Z1bCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciB3aGlsZSBjb3B5aW5nIHRvIGNsaXBiYW9yZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxucmVxdWlyZSgnLi9zZWN0aW9uLmNzcycpOyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmZvb3Rlci1zZWN0aW9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTtcXHJcXG4gICBcXHJcXG4gICAgXFxyXFxufVxcclxcblxcclxcbi5mb290ZXItaW5mby1jb250YWluZXIge1xcclxcbiAgICBoZWlnaHQ6IDE1cmVtO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmZvb3Rlci1pbmZvLWNvbnRhaW5lciA+IGgyIHtcXHJcXG4gICAgZm9udC1zaXplOiAzcmVtO1xcclxcbiAgICBjb2xvcjogIzFFOTBGRjtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZm9vdGVyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mb290ZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mb290ZXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxmb290ZXIgY2xhc3M9XFxcImZvb3Rlci1zZWN0aW9uXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9vdGVyLWluZm8tY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgIDxoMj5BbGwgcmlnaHQgcmVzZXJ2ZWQgJmNvcHk7IEFuYXRvbGlpIFlhdHNlbmtvPC9oMj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9mb290ZXI+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29tcG9uZW50KCdhcHBGb290ZXInLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vZm9vdGVyLmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5yZXF1aXJlKCcuL2Zvb3Rlci5jc3MnKTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5nYWxsZXJ5LXByZXZpZXdlciB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG4uZ2FsbGVyeS1wcmV2aWV3ZXItY29tcG9zaXRpb24ge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB3aWR0aDo1MCU7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG4gICAgbWFyZ2luLXRvcDogNXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktcHJldmlld2VyLWV4YW1wbGUge1xcclxcbiAgICB3aWR0aDogMzVyZW07XFxyXFxuICAgIGhlaWdodDogMjByZW07XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgei1pbmRleDogMTtcXHJcXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXHJcXG4gICAgYm94LXNoYWRvdzogMCAxLjVyZW0gNHJlbSByZ2JhKDAsIDAsIDAsIDAuNCk7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcXHJcXG4gICAgdHJhbnNpdGlvbjogYWxsIC4ycztcXHJcXG4gICAgb3V0bGluZS1vZmZzZXQ6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlOmhvdmVyIHtcXHJcXG4gICAgei1pbmRleDogMTAwO1xcclxcbiAgICBvdXRsaW5lOiAxLjVyZW0gc29saWQgZGFya3NsYXRlZ3JleTtcXHJcXG4gICAgYm94LXNoYWRvdzogMCAyLjVyZW0gNHJlbSByZ2JhKDAsIDAsIDAsIDAuNSk7XFxyXFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSkgdHJhbnNsYXRlWSgtMC41cmVtKTtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktcHJldmlld2VyLWV4YW1wbGU6bnRoLWNoaWxkKDEpe1xcclxcbiAgICB0b3A6MDtcXHJcXG4gICAgbGVmdDowO1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1wcmV2aWV3ZXItZXhhbXBsZTpudGgtY2hpbGQoMil7XFxyXFxuICAgIFxcclxcbiAgICB0b3A6IDEzcmVtO1xcclxcbiAgICBsZWZ0OiAxMXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktcHJldmlld2VyLWV4YW1wbGU6bnRoLWNoaWxkKDMpe1xcclxcbiAgICBcXHJcXG4gICAgdG9wOiA0cmVtO1xcclxcbiAgICBsZWZ0OiAyNHJlbTtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZ2FsbGVyeS1wcmV2aWV3ZXIuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2dhbGxlcnktcHJldmlld2VyLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZ2FsbGVyeS1wcmV2aWV3ZXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzZWN0aW9uIGNsYXNzPVxcXCJnYWxsZXJ5LXByZXZpZXdlclxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImdhbGxlcnktcHJldmlld2VyLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnYWxsZXJ5LXByZXZpZXdlci1jb21wb3NpdGlvblxcXCI+XFxyXFxuICAgICAgICAgICAgPGltZyBuZy1yZXBlYXQ9XFxcImltYWdlIGluICRjdHJsLmltYWdlcyB0cmFjayBieSAkaW5kZXggfCBsaW1pdFRvOiAzXFxcIiBzdHlsZT0nYmFja2dyb3VuZC1pbWFnZTp1cmwoe3tpbWFnZX19KScgIGFsdD1cXFwiXFxcIiBjbGFzcz1cXFwiZ2FsbGVyeS1wcmV2aWV3ZXItZXhhbXBsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPCEtLSA8aW1nIG5nLXJlcGVhdD1cXFwiaW1hZ2UgaW4gJGN0cmwuaW1hZ2VzXFxcIiBuZy1zcmM9XFxcIi4uLy4uLy4uL2Fzc2V0cy9pbWcvNGstbmF0dXJlLXdhbGxwYXBlci0wMDQ5LmpwZ1xcXCIgYWx0PVxcXCJcXFwiIGNsYXNzPVxcXCJnYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlXFxcIj4gLS0+XFxyXFxuICAgICAgICAgICAgPCEtLSA8aW1nIHNyYz1cXFwiLi9hc3NldHMvaW1nLzRrLW5hdHVyZS13YWxscGFwZXItMDA0OS5qcGdcXFwiIGFsdD1cXFwiXFxcIiBjbGFzcz1cXFwiZ2FsbGVyeS1wcmV2aWV3ZXItZXhhbXBsZVxcXCI+XFxyXFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcIi4uL2Fzc2V0cy9pbWcvNGstbmF0dXJlLXdhbGxwYXBlci0wMDQ5LmpwZ1xcXCIgYWx0PVxcXCJcXFwiIGNsYXNzPVxcXCJnYWxsZXJ5LXByZXZpZXdlci1leGFtcGxlXFxcIj4gLS0+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9zZWN0aW9uPlwiOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwR2FsbGVyeVByZXZpZXdlcicsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9nYWxsZXJ5LXByZXZpZXdlci5odG1sJyksXHJcbiAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICBpbWFnZXM6JzwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxucmVxdWlyZSgnLi9nYWxsZXJ5LXByZXZpZXdlci5jc3MnKTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5nYWxsZXJ5LXNpZGVtZW51IHtcXHJcXG4gICAgZmxleC1iYXNpczogMzAlO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcclxcbiAgICBcXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1jb250YWluZXJ7XFxyXFxuICAgIG1hcmdpbi10b3A6IDhyZW07XFxyXFxuICAgIHBhZGRpbmctbGVmdDogMjByZW07XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LXNpZGVtZW51LWxpbmstbGlzdHtcXHJcXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1pdGVtIHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICBwYWRkaW5nOiAuNXJlbSAwIC41cmVtIDEuNXJlbTtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbiAgICAvKiBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyZXk7ICovXFxyXFxufVxcclxcbi5nYWxsZXJ5LXNpZGVtZW51LWxpbmstaXRlbTphZnRlcntcXHJcXG4gICAgY29udGVudDogXFxcIlxcXFwyMTkyXFxcIjtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIGZvbnQtc2l6ZTogNHJlbTtcXHJcXG4gICAgY29sb3I6ICMxRTkwRkY7XFxyXFxuICAgIHJpZ2h0OiAyMHJlbTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICBvcGFjaXR5OjA7XFxyXFxuICAgIHdpZHRoOiAzcHg7XFxyXFxuICAgIHRyYW5zaXRpb246IGFsbCAuNHMgY3ViaWMtYmV6aWVyKDEsIDAsIDAsIDEpIDAuMnM7XFxyXFxufVxcclxcblxcclxcbi5nYWxsZXJ5LXNpZGVtZW51LWxpbmstaXRlbTpob3ZlcjphZnRlciB7XFxyXFxuICAgIHJpZ2h0OiAxMCU7XFxyXFxuICAgIG9wYWNpdHk6IDE7XFxyXFxufVxcclxcbi5nYWxsZXJ5LXNpZGVtZW51LWxpbmstaXRlbTpiZWZvcmUge1xcclxcbiAgICAvKiBjb250ZW50OiAnJztcXHJcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGdyZWVuO1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDowO1xcclxcbiAgICBsZWZ0OjA7XFxyXFxuICAgIGhlaWdodDoxMDAlO1xcclxcbiAgICB3aWR0aDozcHg7XFxyXFxuICAgIHRyYW5zZm9ybTogc2NhbGVYKDApO1xcclxcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0O1xcclxcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycywgd2lkdGggMC40cyBjdWJpYy1iZXppZXIoMSwgMCwgMCwgMSkgMC4ycywgYm9yZGVyLWJvdHRvbSAuM3M7ICovXFxyXFxuICAgIFxcclxcbiAgICBjb250ZW50OiBcXFwiXFxcIjtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgXFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgd2lkdGg6IDNweDtcXHJcXG4gICAgLyogY2xpcC1wYXRoOiBwb2x5Z29uKDAgMCwgMSAwLCA1MCUgNTAlLCAxMDAlIDEwMCUpOyAqL1xcclxcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiAjMUU5MEZGOyAqL1xcclxcblxcclxcbiAgICB0cmFuc2Zvcm06IHNjYWxlWSgwKTtcXHJcXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyO1xcclxcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycywgd2lkdGggMC40cyBjdWJpYy1iZXppZXIoMSwgMCwgMCwgMSkgMC4ycyxib3JkZXIgLjRzLCBiYWNrZ3JvdW5kLWNvbG9yIDAuMXM7XFxyXFxuICAgIFxcclxcbn1cXHJcXG4uZ2FsbGVyeS1zaWRlbWVudS1saW5rLWl0ZW06aG92ZXI6YmVmb3Jle1xcclxcbiAgICAvKiB0cmFuc2Zvcm06IHNjYWxlWCgxKTtcXHJcXG4gICAgd2lkdGg6IDEwMCU7ICovXFxyXFxuICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjMUU5MEZGO1xcclxcbiAgICB0cmFuc2Zvcm06IHNjYWxlWSgxKTtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxufVxcclxcbi8qIC5nYWxsZXJ5LXNpZGVtZW51LWxpbmstaXRlbTpob3ZlciB7XFxyXFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMUU5MEZGO1xcclxcbn0gKi9cXHJcXG5cXHJcXG4vKiB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycywgd2lkdGggMC40cyBjdWJpYy1iZXppZXIoMSwgMCwgMCwgMSkgMC4ycywgICovXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1hIHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICBjb2xvcjojMzMzMzMzO1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICB3aWR0aDoxMDAlO1xcclxcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XFxyXFxuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzogLjNyZW07XFxyXFxuICAgIGZvbnQtc2l6ZTogM3JlbTtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDEwMDtcXHJcXG59XFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1saXN0Om50aC1jaGlsZCgxKXtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1saXN0Om50aC1jaGlsZCgyKXtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1saXN0Om50aC1jaGlsZCgzKXtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1saXN0Om50aC1jaGlsZCg0KXtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLmdhbGxlcnktc2lkZW1lbnUtbGluay1saXN0Om50aC1jaGlsZCg1KXtcXHJcXG5cXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZ2FsbGVyeS1zaWRlbWVudS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZ2FsbGVyeS1zaWRlbWVudS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2dhbGxlcnktc2lkZW1lbnUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzZWN0aW9uIGNsYXNzPVxcXCJnYWxsZXJ5LXNpZGVtZW51XFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZ2FsbGVyeS1zaWRlbWVudS1saW5rLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICA8dWwgY2xhc3M9XFxcImdhbGxlcnktc2lkZW1lbnUtbGluay1saXN0XFxcIj5cXHJcXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcImdhbGxlcnktc2lkZW1lbnUtbGluay1pdGVtXFxcIiBuZy1yZXBlYXQ9XFxcInNlY3Rpb24gaW4gJGN0cmwuc2VjdGlvbnNcXFwiICA+XFxyXFxuICAgICAgICAgICAgICAgIDxhIHVpLXNyZWY9XFxcInNlY3Rpb24oe3NlY3Rpb246IHNlY3Rpb259KVxcXCIgbmctbW91c2VvdmVyPVxcXCIkY3RybC5nZXRJbWFnZXMoe3NlY3Rpb246c2VjdGlvbn0pOyAgJGN0cmwuc3RhcnRBbmltYXRpb24oJGV2ZW50KVxcXCIgY2xhc3M9XFxcImdhbGxlcnktc2lkZW1lbnUtbGluay1hXFxcIj57e3NlY3Rpb259fTwvYT5cXHJcXG4gICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICBcXHJcXG4gICAgICAgIDwvdWw+XFxyXFxuICAgIDwvZGl2Plxcclxcbjwvc2VjdGlvbj5cIjsiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb21wb25lbnQoJ2FwcEdhbGxlcnlTaWRlbWVudScsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9nYWxsZXJ5LXNpZGVtZW51Lmh0bWwnKSxcclxuICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICBzZWN0aW9uczogJzwnLFxyXG4gICAgICAgICAgICBnZXRJbWFnZXM6ICcmJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LmNoaWxkTm9kZXNbMV0pXHJcbiAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQuY2hpbGROb2Rlc1sxXSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL2dhbGxlcnktc2lkZW1lbnUuY3NzJyk7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZ2FsbGVyeS1zZWN0aW9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTtcXHJcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXHJcXG59XFxyXFxuLmdhbGxlcnktaGVhZGluZyB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBoZWlnaHQ6IDI1cmVtO1xcclxcbn1cXHJcXG4uZ2FsbGVyeS1oZWFkaW5nIGgye1xcclxcbiAgICBjb2xvcjogIzFFOTBGRjtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcXHJcXG4gICAgZm9udC1zaXplOiA2cmVtO1xcclxcbiAgICBwYWRkaW5nOiAycmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FsbGVyeS1mb2xkZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICAgIFxcclxcbn1cXHJcXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9nYWxsZXJ5LmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9nYWxsZXJ5LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZ2FsbGVyeS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHNlY3Rpb24gY2xhc3M9XFxcImdhbGxlcnktc2VjdGlvblxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnYWxsZXJ5LWhlYWRpbmdcXFwiPlxcclxcbiAgICAgICAgICAgIDxoMj5HYWxsZXJ5IHdpdGggZGlmZmVyZW50IGltYWdlczwvaDI+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImdhbGxlcnktZm9sZGVyXFxcIj5cXHJcXG4gICAgICAgICAgICA8YXBwLWdhbGxlcnktc2lkZW1lbnUgc2VjdGlvbnM9XFxcIiRjdHJsLnNlY3Rpb25zXFxcIiBnZXQtaW1hZ2VzPVxcXCIkY3RybC5vblNlY3Rpb25DaGFuZ2Uoc2VjdGlvbilcXFwiIHN0eWxlPVxcXCJmbGV4LWJhc2lzOjMwJTtcXFwiPjwvYXBwLWdhbGxlcnktc2lkZW1lbnU+XFxyXFxuICAgICAgICAgICAgPGFwcC1nYWxsZXJ5LXByZXZpZXdlciBpbWFnZXM9XFxcIiRjdHJsLmltYWdlc1xcXCIgIHN0eWxlPVxcXCJmbGV4LWJhc2lzOjcwJTtcXFwiPjwvYXBwLWdhbGxlcnktcHJldmlld2VyPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICBcXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9zZWN0aW9uPlxcclxcblwiOyIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwR2FsbGVyeScsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9nYWxsZXJ5Lmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBbJ1NlY3Rpb25zU2VydmljZScsICdQcmV2aWV3ZWRJbWFnZXNTZXJ2aWNlJywgZnVuY3Rpb24oU2VjdGlvbnNTZXJ2aWNlLCBQcmV2aWV3ZWRJbWFnZXNTZXJ2aWNlKXtcclxuICAgICAgICAgICAgbGV0IGN0cmwgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLiRvbkluaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBTZWN0aW9uc1NlcnZpY2UuZ2V0U2VjdGlvbnMoKS50aGVuKHNlY3Rpb25zID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWN0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5zZWN0aW9ucyA9IHNlY3Rpb25zO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICBQcmV2aWV3ZWRJbWFnZXNTZXJ2aWNlLmdldEltYWdlc0J5U2VjdGlvbigncGVvcGxlJylcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaW1hZ2VzID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uU2VjdGlvbkNoYW5nZSA9IGZ1bmN0aW9uKHNlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBQcmV2aWV3ZWRJbWFnZXNTZXJ2aWNlLmdldEltYWdlc0J5U2VjdGlvbihzZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5pbWFnZXMgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XVxyXG4gICAgfSlcclxuXHJcbnJlcXVpcmUoJy4vZ2FsbGVyeS5jc3MnKTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5zaG93Y2FzZSB7XFxyXFxuICAgIGhlaWdodDogODB2aDtcXHJcXG4gICAgYmFja2dyb3VuZDogdXJsKC9hc3NldHMvaW1nL3N0cmVldC5qcGcpIG5vLXJlcGVhdCAwIC0yMHZoO1xcclxcbiAgICBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6IGZpeGVkO1xcclxcbiAgICBcXHJcXG59XFxyXFxuXFxyXFxuLnNob3djYXNlLW91dGVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGhlaWdodDogaW5oZXJpdDtcXHJcXG59XFxyXFxuLnNob3djYXNlLWluZm8tY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxufVxcclxcbi5zaG93Y2FzZS13ZWxjb21lIHtcXHJcXG4gICAgY29sb3I6ICNmYWZhZmE7XFxyXFxuICAgIGZvbnQtc2l6ZTogN3JlbTtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6IC4zcmVtO1xcclxcbiAgICB0ZXh0LXNoYWRvdzogMnB4IDJweCA0cHggIzAwMDAwMDtcXHJcXG59XFxyXFxuXFxyXFxuLnNob3djYXNlLWNyZWF0b3Ige1xcclxcbiAgICBjb2xvcjogI2ZhZmFmYTtcXHJcXG4gICAgZm9udC1zaXplOiA0cmVtO1xcclxcbiAgICB0ZXh0LXNoYWRvdzogMnB4IDJweCA0cHggIzAwMDAwMDtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2hvd2Nhc2UuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3Nob3djYXNlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2hvd2Nhc2UuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzZWN0aW9uIGNsYXNzPVxcXCJzaG93Y2FzZVxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzaG93Y2FzZS1vdXRlclxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic2hvd2Nhc2UtaW5mby1jb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8aDEgY2xhc3M9XFxcInNob3djYXNlLXdlbGNvbWVcXFwiPldlbGNvbWUgdG8gdGhlIEdhbGxlcnk8L2gxPlxcclxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwic2hvd2Nhc2UtY3JlYXRvclxcXCI+bWFkZSBieSBBbmF0b2xpaSBZYXRzZW5rbzwvcD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L3NlY3Rpb24+XFxyXFxuPGFwcC1nYWxsZXJ5PjwvYXBwLWdhbGxlcnk+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29tcG9uZW50KCdhcHBTaG93Y2FzZScsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9zaG93Y2FzZS5odG1sJyksXHJcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbnJlcXVpcmUoJy4vc2hvd2Nhc2UuY3NzJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxoZWFkZXIgY2xhc3M9XFxcIm5hdl9iYXZcXFwiPlxcclxcbiAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwibmF2X2NvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgPGRpdiBjbGFzcz1cXFwicmVzcG9uc2l2ZV90ZXh0XFxcIj5cXHJcXG4gICAgICAgIDxoMz48c3BhbiBzdHlsZT1cXFwiY29sb3I6IzFFOTBGRjtcXFwiPlJlc3BvbnNpdmU8L3NwYW4+IGdhbGxlcnk8L2gzPlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICAgIDxuYXYgY2xhc3M9XFxcIm5hdmlnYXRpb25fY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgIDx1bCBjbGFzcz1cXFwibGlzdFxcXCI+XFxyXFxuICAgICAgICAgIDxsaT5IT01FPC9saT5cXHJcXG4gICAgICAgICAgPGxpPkFCT1VUIFVTPC9saT5cXHJcXG4gICAgICAgICAgPGxpPlNJR04gSU48L2xpPlxcclxcbiAgICAgICAgICA8bGk+U0lHTiBVUDwvbGk+XFxyXFxuICAgICAgICA8L3VsPlxcclxcbiAgICAgIDwvbmF2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gIDwvZGl2PlxcclxcbjwvaGVhZGVyPlwiOyIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubmF2X2JhdiB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzNTQyNGE7XFxyXFxuICAgIGJvcmRlci1ib3R0b206ICMxRTkwRkYgM3B4IHNvbGlkO1xcclxcbiAgICBoZWlnaHQ6IDhyZW07XFxyXFxufVxcclxcblxcclxcblxcclxcbi5uYXZfY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XFxyXFxufVxcclxcblxcclxcbi5yZXNwb25zaXZlX3RleHQge1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4ucmVzcG9uc2l2ZV90ZXh0IGgzIHtcXHJcXG4gICAgZm9udC1zaXplOiAzLjJyZW07XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmxpc3Qge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBsaXN0LXN0eWxlOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4ubGlzdCBsaSB7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgZm9udC1zaXplOiAycmVtO1xcclxcbiAgICBwYWRkaW5nOiAxcmVtIDJyZW07XFxyXFxufSBcIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9hcHBOYXZCYXIuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2FwcE5hdkJhci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2FwcE5hdkJhci5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJyZXF1aXJlKCcuL2FwcE5hdkJhci5jc3MnKTtcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb21wb25lbnQoJ2FwcE5hdkJhcicsIHtcclxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2FwcE5hdkJhci5odG1sJyksXHJcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlciddKTtcclxuXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcil7XHJcblxyXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xyXG5cclxuICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgLnN0YXRlKHtcclxuICAgICAgICAgICAgbmFtZTogJ2hvbWUnLFxyXG4gICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8YXBwLXNob3djYXNlPjwvYXBwLXNob3djYXNlPidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdGF0ZSh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdzZWN0aW9uJyxcclxuICAgICAgICAgICAgdXJsOiAnL3NlY3Rpb24vOnNlY3Rpb24nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxhcHAtc2VjdGlvbiBpbWFnZXM9XCJ2bS5pdGVtc1wiPjwvYXBwLXNlY3Rpb24+JyxcclxuICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHN0YXRlUGFyYW1zJywgJ1ByZXZpZXdlZEltYWdlc1NlcnZpY2UnLCBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zLCBQcmV2aWV3ZWRJbWFnZXNTZXJ2aWNlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBjdHJsID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHRoaXMuJG9uSW5pdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBQcmV2aWV3ZWRJbWFnZXNTZXJ2aWNlLmdldEltYWdlc0J5U2VjdGlvbigkc3RhdGVQYXJhbXMuc2VjdGlvbikudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLml0ZW1zID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN0cmwuaXRlbXMgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxufV0pXHJcblxyXG5cclxuLy8gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL2NsaXBib2FyZC5kaXJlY3RpdmUnKTtcclxucmVxdWlyZSgnLi9jb21wb25lbnRzL2FwcC1uYXYtYmFyL2FwcE5hdkJhci5jb21wb25lbnQnKTtcclxucmVxdWlyZSgnLi9jb21wb25lbnRzL3Nob3djYXNlL3Nob3djYXNlLmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvZ2FsbGVyeS9nYWxsZXJ5LXNpZGVtZW51L2dhbGxlcnktc2lkZW1lbnUuY29tcG9uZW50Jyk7XHJcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9nYWxsZXJ5L2dhbGxlcnktcHJldmlld2VyL2dhbGxlcnktcHJldmlld2VyLmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQnKTtcclxucmVxdWlyZSgnLi9jb21wb25lbnRzL3NlY3Rpb24vc2VjdGlvbi5jb21wb25lbnQnKTtcclxuXHJcbnJlcXVpcmUoJy4vc2VydmljZXMvc2VjdGlvbnMuc2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3ByZXZpZXdlZC1pbWFnZXMuc2VydmljZScpO1xyXG5cclxucmVxdWlyZSgnLi9tYWluLmNzcycpO1xyXG4vLyByZXF1aXJlKCcuL2NvbXBvbmVudHMvc2tpbGxzUGFnZS9za2lsbHMuY29tcG9uZW50Jyk7XHJcblxyXG5cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9